var tr=Object.defineProperty;var Ct=Object.getOwnPropertySymbols;var rr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable;var Ot=(a,e,t)=>e in a?tr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Fe=(a,e)=>{for(var t in e||(e={}))rr.call(e,t)&&Ot(a,t,e[t]);if(Ct)for(var t of Ct(e))ir.call(e,t)&&Ot(a,t,e[t]);return a};import{S as we,i as ye,s as $e,D as or,e as d,c as p,a as x,d as o,b as w,f as T,E as nr,F as lr,G as sr,p as Z,n as X,u as Ge,t as H,j as L,g as j,l as N,J as i,H as n,K as at,I as Q,L as vt,M as xt,N as wt,O as qt,P as S,Q as yt,R as ar,v as re,w as ie,T as Vt,x as oe,U as ur,A as ne,V as Ht,m as fr,o as cr,W as dr,X as jt,Y as pr,h as Ut,Z as mr,_ as Ft,$ as hr,a0 as gr,a1 as _r,a2 as br}from"../chunks/vendor-0fc4abed.js";function vr(a){let e,t;const r=a[2].default,c=or(r,a,a[1],null);return{c(){e=d("section"),c&&c.c(),this.h()},l(l){e=p(l,"SECTION",{id:!0});var m=x(e);c&&c.l(m),m.forEach(o),this.h()},h(){w(e,"id",a[0])},m(l,m){T(l,e,m),c&&c.m(e,null),t=!0},p(l,[m]){c&&c.p&&(!t||m&2)&&nr(c,r,l,l[1],t?sr(r,l[1],m,null):lr(l[1]),null),(!t||m&1)&&w(e,"id",l[0])},i(l){t||(Z(c,l),t=!0)},o(l){X(c,l),t=!1},d(l){l&&o(e),c&&c.d(l)}}}function xr(a,e,t){let{$$slots:r={},$$scope:c}=e,{id:l}=e;Ge(()=>{if(window.location.hash.substr(1)){if(_(),m.page){let u=Number(m.page),b=document.querySelectorAll("section");b[u-1]&&b[u-1].scrollIntoView(!0)}}else{window.location.hash="page=2";let u=2,b=document.querySelectorAll("section");b[u-1]&&b[u-1].scrollIntoView(!0)}});let m={};function _(){m=window.location.hash.substr(1).split("&").reduce(function(b,h){let y=h.split("=");return typeof y[1]=="undefined"&&(y[1]=!0),b[y[0]]=y[1],b},{})}return a.$$set=u=>{"id"in u&&t(0,l=u.id),"$$scope"in u&&t(1,c=u.$$scope)},[l,c,r]}class ot extends we{constructor(e){super();ye(this,e,xr,vr,$e,{id:0})}}let ut;function Gt(){return ut||(ut=io.connect(),ut.on("error",console.error),ut.on("connect",()=>{console.log("web socket connected")}),ut.on("disconnect",()=>console.log("web socket disconnected"))),ut}function wr(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,z,v,$,E,A,P,D,k,M,R,O;return{c(){e=d("h2"),t=d("span"),r=H("Media Manager"),c=L(),l=d("br"),m=L(),_=d("br"),u=L(),b=d("center"),h=d("button"),y=H("Upload All Files To Tator.io"),f=L(),s=d("div"),g=H("\xA0"),z=L(),v=d("div"),$=H("\xA0"),E=L(),A=d("br"),P=L(),D=d("br"),k=L(),M=d("iframe"),this.h()},l(B){e=p(B,"H2",{style:!0});var C=x(e);t=p(C,"SPAN",{style:!0});var me=x(t);r=j(me,"Media Manager"),me.forEach(o),C.forEach(o),c=N(B),l=p(B,"BR",{}),m=N(B),_=p(B,"BR",{}),u=N(B),b=p(B,"CENTER",{});var Y=x(b);h=p(Y,"BUTTON",{id:!0,style:!0});var Be=x(h);y=j(Be,"Upload All Files To Tator.io"),Be.forEach(o),f=N(Y),s=p(Y,"DIV",{id:!0,style:!0});var ee=x(s);g=j(ee,"\xA0"),ee.forEach(o),z=N(Y),v=p(Y,"DIV",{id:!0,style:!0});var ae=x(v);$=j(ae,"\xA0"),ae.forEach(o),Y.forEach(o),E=N(B),A=p(B,"BR",{}),P=N(B),D=p(B,"BR",{}),k=N(B),M=p(B,"IFRAME",{id:!0,title:!0,width:!0,height:!0});var ce=x(M);ce.forEach(o),this.h()},h(){i(t,"font-size","58px"),i(e,"font-size","64px"),w(h,"id","uploadall"),i(h,"color","white"),i(h,"font-weight","normal"),i(h,"text-decoration","none"),i(h,"word-break","break-word"),i(h,"font-size","14px"),i(h,"line-height","18px"),i(h,"border-top","8px solid"),i(h,"border-bottom","8px solid"),i(h,"border-right","12px solid"),i(h,"border-left","12px solid"),i(h,"background-color","#2ab27b"),i(h,"border-color","#2ab27b"),i(h,"display","inline-block"),i(h,"letter-spacing","1px"),i(h,"min-width","80px"),i(h,"text-align","center"),i(h,"border-radius","4px"),i(h,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),w(s,"id","uploadstatus"),i(s,"color","white"),i(s,"font-size","20px"),i(s,"line-height","22px"),i(s,"margin-top","20px"),w(v,"id","filecounts"),i(v,"color","lightgray"),i(v,"font-size","20px"),i(v,"line-height","22px"),i(v,"margin-top","5px"),w(M,"id","mediamanager"),w(M,"title","Media Manager Files"),w(M,"width","100%"),w(M,"height","100%")},m(B,C){T(B,e,C),n(e,t),n(t,r),T(B,c,C),T(B,l,C),T(B,m,C),T(B,_,C),T(B,u,C),T(B,b,C),n(b,h),n(h,y),n(b,f),n(b,s),n(s,g),n(b,z),n(b,v),n(v,$),T(B,E,C),T(B,A,C),T(B,P,C),T(B,D,C),T(B,k,C),T(B,M,C),R||(O=at(h,"click",a[0]),R=!0)},p:Q,i:Q,o:Q,d(B){B&&o(e),B&&o(c),B&&o(l),B&&o(m),B&&o(_),B&&o(u),B&&o(b),B&&o(E),B&&o(A),B&&o(P),B&&o(D),B&&o(k),B&&o(M),R=!1,O()}}}function Wt(a){return a.jpg,a.mp4,a.h264,`${a.txt} txts, ${a.jpg||0} jpgs, ${a.mp4||0} mp4s`}function yr(a){let e;Ge(()=>{let _=document.getElementById("mediamanager");_.src=window.location.protocol+"//"+window.location.hostname+"/html/preview.php",e=Gt(),e.on("filecounts",u=>l(u)),e.on("uploadprogress",u=>m(u))});let t=!1;async function r(_){let u=document.querySelector("#uploadall"),b=document.querySelector("#uploadstatus");if(t)c();else try{console.log("upload all!"),u.innerText="  Cancel Upload ",b.innerText="Uploading...",t=!0;let h=await fetch("/uploadall",{method:"POST",headers:{"Content-Type":"application/json"}});if(t=!1,u.innerText="Upload All Files To Tator.io",h.ok){let y=await h.text();console.log("text",y),y||(y="Upload done!"),b.innerText=y}else b.innerText=`Upload error: ${h.statusText}`}catch(h){t=!1,u.innerText="Upload All Files To Tator.io",b.innerText=`Upload error: ${h}`}}async function c(_){let u=document.querySelector("#uploadall"),b=document.querySelector("#uploadstatus");if(t)try{console.log("upload all cancel!"),u.innerText="Canceling...";let h=await fetch("/uploadall_cancel",{method:"POST"});t=!1,u.innerText="Upload All",h.ok?b.innerText="Upload canceled":b.innerText=`Upload cancel error: ${h.statusText}`}catch(h){t=!1,u.innerText="Upload All",b.innerText=`Upload error: ${h}`}}function l(_){if(!t){let u=document.querySelector("#filecounts"),b=Wt(_);u.innerText=b}}function m(_){if(t){let u=document.querySelector("#uploadstatus"),b=document.querySelector("#filecounts"),h=`Uploading ${_.n+1} of ${_.of+1} ${_.ext}s`;u.innerHTML=h;let y=Wt(_.filecounts);b.innerText=y}}return[r]}class $r extends we{constructor(e){super();ye(this,e,yr,wr,$e,{})}}function Er(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,z,v,$,E,A,P,D,k,M,R,O,B,C,me,Y,Be,ee,ae,ce,Me,De,_e,G,Ee,Re,de,Se,be,he,te,We,J,Je,ue,Pe,Te,ke,le,W,q,U,Ze,Ke,Xe,Qe,Ye,et,qe,Ve,He,Ae,K,pe,ze;return{c(){e=d("h2"),t=d("img"),c=L(),l=d("span"),m=H("Mission ID"),_=L(),u=d("br"),b=L(),h=d("br"),y=L(),f=d("center"),s=d("div"),g=d("span"),z=H("\xA0"),v=d("br"),$=d("span"),E=H("\xA0"),A=d("br"),P=d("span"),D=L(),k=d("br"),M=L(),R=d("form"),O=d("table"),B=d("tr"),C=d("td"),me=d("br"),Y=L(),Be=d("br"),ee=L(),ae=d("div"),ce=d("label"),Me=H("User Name"),De=d("br"),_e=L(),G=d("input"),Ee=L(),Re=d("tr"),de=d("td"),Se=d("tr"),be=d("td"),he=d("div"),te=d("label"),We=H("Mission ID"),J=d("div"),Je=L(),ue=d("input"),Pe=L(),Te=d("tr"),ke=d("td"),le=d("tr"),W=d("td"),q=d("span"),U=d("button"),Ze=H("Save"),Ke=L(),Xe=d("br"),Qe=L(),Ye=d("br"),et=L(),qe=d("br"),Ve=L(),He=d("br"),Ae=L(),K=d("div"),pe=L(),ze=d("br"),this.h()},l(V){e=p(V,"H2",{style:!0});var se=x(e);t=p(se,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=N(se),l=p(se,"SPAN",{style:!0});var fe=x(l);m=j(fe,"Mission ID"),fe.forEach(o),se.forEach(o),_=N(V),u=p(V,"BR",{}),b=N(V),h=p(V,"BR",{}),y=N(V),f=p(V,"CENTER",{});var ve=x(f);s=p(ve,"DIV",{style:!0});var xe=x(s);g=p(xe,"SPAN",{id:!0});var nt=x(g);z=j(nt,"\xA0"),nt.forEach(o),v=p(xe,"BR",{}),$=p(xe,"SPAN",{id:!0,style:!0});var tt=x($);E=j(tt,"\xA0"),tt.forEach(o),A=p(xe,"BR",{}),P=p(xe,"SPAN",{id:!0,style:!0}),x(P).forEach(o),xe.forEach(o),D=N(ve),k=p(ve,"BR",{}),M=N(ve),R=p(ve,"FORM",{width:!0,id:!0,enctype:!0,method:!0,style:!0});var Le=x(R);O=p(Le,"TABLE",{width:!0,style:!0});var Ne=x(O);B=p(Ne,"TR",{});var Ce=x(B);C=p(Ce,"TD",{});var I=x(C);me=p(I,"BR",{}),Y=N(I),Be=p(I,"BR",{}),ee=N(I),ae=p(I,"DIV",{style:!0});var F=x(ae);ce=p(F,"LABEL",{for:!0});var ft=x(ce);Me=j(ft,"User Name"),ft.forEach(o),De=p(F,"BR",{}),_e=N(F),G=p(F,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,type:!0,name:!0,size:!0,style:!0}),F.forEach(o),Ee=N(I),I.forEach(o),Ce.forEach(o),Re=p(Ne,"TR",{});var ct=x(Re);de=p(ct,"TD",{style:!0});var mt=x(de);mt.forEach(o),ct.forEach(o),Se=p(Ne,"TR",{});var rt=x(Se);be=p(rt,"TD",{style:!0});var lt=x(be);he=p(lt,"DIV",{style:!0});var it=x(he);te=p(it,"LABEL",{for:!0});var Ie=x(te);We=j(Ie,"Mission ID"),J=p(Ie,"DIV",{style:!0}),x(J).forEach(o),Ie.forEach(o),Je=N(it),ue=p(it,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,autocomplete:!0,type:!0,name:!0,size:!0,style:!0}),it.forEach(o),Pe=N(lt),lt.forEach(o),rt.forEach(o),Te=p(Ne,"TR",{});var dt=x(Te);ke=p(dt,"TD",{style:!0});var Oe=x(ke);Oe.forEach(o),dt.forEach(o),le=p(Ne,"TR",{});var je=x(le);W=p(je,"TD",{style:!0});var ge=x(W);q=p(ge,"SPAN",{style:!0});var pt=x(q);U=p(pt,"BUTTON",{id:!0,style:!0});var ht=x(U);Ze=j(ht,"Save"),ht.forEach(o),pt.forEach(o),Ke=N(ge),Xe=p(ge,"BR",{}),Qe=N(ge),Ye=p(ge,"BR",{}),et=N(ge),qe=p(ge,"BR",{}),Ve=N(ge),He=p(ge,"BR",{}),ge.forEach(o),je.forEach(o),Ne.forEach(o),Ae=N(Le),K=p(Le,"DIV",{id:!0,style:!0}),x(K).forEach(o),Le.forEach(o),ve.forEach(o),pe=N(V),ze=p(V,"BR",{}),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),vt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px"),w(g,"id","hostname"),w($,"id","macaddress"),i($,"color","darkgrey"),w(P,"id","version"),i(P,"color","darkgrey"),i(s,"font-size","22px"),i(s,"font-weight","700"),i(s,"color","white"),i(s,"margin-bottom","20px"),w(ce,"for","username"),w(G,"id","username"),w(G,"autocorrect","off"),w(G,"autocapitalize","none"),w(G,"type","text"),w(G,"name","username"),w(G,"size","18"),i(G,"font-size","24px"),i(G,"margin-top","5px"),G.required=!0,i(ae,"font-size","20px"),i(ae,"font-weight","900"),i(de,"height","25px"),i(J,"font-size","11px"),i(J,"margin-left","2px"),w(te,"for","missionid"),w(ue,"id","missionid"),w(ue,"autocorrect","off"),w(ue,"autocapitalize","none"),w(ue,"autocomplete","off"),w(ue,"type","text"),w(ue,"name","missionid"),w(ue,"size","18"),i(ue,"font-size","24px"),i(ue,"margin-top","5px"),ue.required=!0,i(he,"font-size","20px"),i(he,"font-weight","900"),i(be,"font-size","20px"),i(be,"font-weight","900"),i(ke,"height","25px"),w(U,"id","savemissionid"),i(U,"color","white"),i(U,"font-weight","normal"),i(U,"text-decoration","none"),i(U,"word-break","break-word"),i(U,"font-size","20px"),i(U,"line-height","26px"),i(U,"border-top","14px solid"),i(U,"border-bottom","14px solid"),i(U,"border-right","32px solid"),i(U,"border-left","32px solid"),i(U,"background-color","#2ab27b"),i(U,"border-color","#2ab27b"),i(U,"display","inline-block"),i(U,"letter-spacing","1px"),i(U,"min-width","80px"),i(U,"text-align","center"),i(U,"border-radius","4px"),i(U,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),i(q,"display","inline-block"),i(q,"border-radius","4px"),i(q,"background","#1f8b5f"),i(q,"border-bottom","2px solid #1f8b5f"),i(W,"text-align","center"),w(O,"width","400"),i(O,"display","grid"),i(O,"place-items","center"),i(O,"background-color","#1B3C45"),w(K,"id","savemissionidstatus"),i(K,"position","relative"),i(K,"top","-50px"),i(K,"left","315px"),i(K,"color","white"),i(K,"font-size","20px"),i(K,"line-height","22px"),i(K,"text-align","left"),i(K,"margin-left","50px"),i(K,"margin-bottom","5px"),w(R,"width","70%"),w(R,"id","missionid_form"),w(R,"enctype","multipart/form-data"),w(R,"method","post"),i(R,"font-size","20px"),i(R,"line-height","26px"),i(R,"margin","0 0 16px")},m(V,se){T(V,e,se),n(e,t),n(e,c),n(e,l),n(l,m),T(V,_,se),T(V,u,se),T(V,b,se),T(V,h,se),T(V,y,se),T(V,f,se),n(f,s),n(s,g),n(g,z),n(s,v),n(s,$),n($,E),n(s,A),n(s,P),n(f,D),n(f,k),n(f,M),n(f,R),n(R,O),n(O,B),n(B,C),n(C,me),n(C,Y),n(C,Be),n(C,ee),n(C,ae),n(ae,ce),n(ce,Me),n(ae,De),n(ae,_e),n(ae,G),n(C,Ee),n(O,Re),n(Re,de),n(O,Se),n(Se,be),n(be,he),n(he,te),n(te,We),n(te,J),n(he,Je),n(he,ue),n(be,Pe),n(O,Te),n(Te,ke),n(O,le),n(le,W),n(W,q),n(q,U),n(U,Ze),n(W,Ke),n(W,Xe),n(W,Qe),n(W,Ye),n(W,et),n(W,qe),n(W,Ve),n(W,He),n(R,Ae),n(R,K),T(V,pe,se),T(V,ze,se)},p:Q,i:Q,o:Q,d(V){V&&o(e),V&&o(_),V&&o(u),V&&o(b),V&&o(h),V&&o(y),V&&o(f),V&&o(pe),V&&o(ze)}}}function Sr(a){return Ge(()=>{const e=new Request("/missionid");document.getElementById("missionid_form").addEventListener("submit",c),r();async function r(){let l=await fetch(e);console.log(l);let m=await l.json();console.log(m);let _=document.querySelector("#hostname"),u=document.querySelector("#macaddress"),b=document.querySelector("#username"),h=document.querySelector("#missionid"),y=document.querySelector("#version");_.innerText=m.hostname||"",u.innerText=m.macaddress||"",b.value=m.username||"",h.value=m.missionid||"",y.value="v"+(m.version||"X")}async function c(l){l.preventDefault();let m=document.querySelector("#savemissionid"),_=document.querySelector("#savemissionidstatus");m.focus();try{let u=new FormData(l.target),b=u.get("username"),h=u.get("missionid");console.log(u),console.log(b),console.log(h);let y={username:b,missionid:h};_.innerHTML=" &nbsp; &nbsp;\u2022 \u2022 \u2022";let f=await fetch(e,{method:"POST",body:JSON.stringify(y),headers:{"Content-Type":"application/json"}});f.ok?_.innerText="Saved!":_.innerText=`Error: ${f.statusText}`}catch(u){_.innerText=`Error: ${u}`}}}),[]}class Tr extends we{constructor(e){super();ye(this,e,Sr,Er,$e,{})}}function kr(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,z,v,$,E,A,P,D,k,M,R,O,B,C,me,Y,Be,ee,ae,ce,Me,De,_e,G,Ee,Re,de,Se,be,he,te,We,J,Je,ue,Pe,Te,ke,le,W,q,U,Ze,Ke,Xe,Qe,Ye,et,qe,Ve,He,Ae,K,pe,ze,V,se,fe,ve,xe,nt,tt,Le,Ne,Ce;return{c(){e=d("h2"),t=H(`\u{1F4F6}
    `),r=d("span"),c=H("WiFi Setup"),l=L(),m=d("br"),_=L(),u=d("br"),b=L(),h=d("center"),y=d("div"),f=d("span"),s=H("\u2022 \u2022 \u2022"),g=d("br"),z=H("\xA0"),v=L(),$=d("center"),E=d("form"),A=d("table"),P=d("tr"),D=d("td"),k=d("br"),M=L(),R=d("br"),O=L(),B=d("div"),C=d("label"),me=H("Network Name"),Y=d("br"),Be=L(),ee=d("input"),ae=L(),ce=d("tr"),Me=d("td"),De=d("tr"),_e=d("td"),G=d("div"),Ee=d("label"),Re=H("WiFi Password"),de=d("div"),Se=d("i"),be=H("leave blank if no password"),he=L(),te=d("input"),We=L(),J=d("button"),Je=H("\u{1F441}\uFE0F"),ue=L(),Pe=d("tr"),Te=d("td"),ke=d("tr"),le=d("td"),W=d("span"),q=d("button"),U=H("Connect WiFi"),Ze=L(),Ke=d("br"),Xe=L(),Qe=d("br"),Ye=L(),et=d("br"),qe=L(),Ve=d("br"),He=L(),Ae=d("center"),K=d("div"),pe=d("div"),ze=xt("font"),V=H("Visible networks"),se=L(),fe=d("ul"),ve=d("li"),xe=d("i"),nt=H("looking for networks..."),tt=L(),Le=d("div"),Ne=L(),Ce=d("div"),this.h()},l(I){e=p(I,"H2",{style:!0});var F=x(e);t=j(F,`\u{1F4F6}
    `),r=p(F,"SPAN",{style:!0});var ft=x(r);c=j(ft,"WiFi Setup"),ft.forEach(o),F.forEach(o),l=N(I),m=p(I,"BR",{}),_=N(I),u=p(I,"BR",{}),b=N(I),h=p(I,"CENTER",{});var ct=x(h);y=p(ct,"DIV",{style:!0});var mt=x(y);f=p(mt,"SPAN",{id:!0});var rt=x(f);s=j(rt,"\u2022 \u2022 \u2022"),g=p(rt,"BR",{}),z=j(rt,"\xA0"),rt.forEach(o),mt.forEach(o),ct.forEach(o),v=N(I),$=p(I,"CENTER",{});var lt=x($);E=p(lt,"FORM",{width:!0,id:!0,enctype:!0,method:!0,style:!0});var it=x(E);A=p(it,"TABLE",{width:!0,style:!0});var Ie=x(A);P=p(Ie,"TR",{});var dt=x(P);D=p(dt,"TD",{});var Oe=x(D);k=p(Oe,"BR",{}),M=N(Oe),R=p(Oe,"BR",{}),O=N(Oe),B=p(Oe,"DIV",{style:!0});var je=x(B);C=p(je,"LABEL",{for:!0});var ge=x(C);me=j(ge,"Network Name"),ge.forEach(o),Y=p(je,"BR",{}),Be=N(je),ee=p(je,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,type:!0,name:!0,size:!0,style:!0}),je.forEach(o),ae=N(Oe),Oe.forEach(o),dt.forEach(o),ce=p(Ie,"TR",{});var pt=x(ce);Me=p(pt,"TD",{style:!0});var ht=x(Me);ht.forEach(o),pt.forEach(o),De=p(Ie,"TR",{});var Et=x(De);_e=p(Et,"TD",{style:!0});var _t=x(_e);G=p(_t,"DIV",{style:!0});var st=x(G);Ee=p(st,"LABEL",{for:!0});var bt=x(Ee);Re=j(bt,"WiFi Password"),de=p(bt,"DIV",{style:!0});var St=x(de);Se=p(St,"I",{});var Tt=x(Se);be=j(Tt,"leave blank if no password"),Tt.forEach(o),St.forEach(o),bt.forEach(o),he=N(st),te=p(st,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,autocomplete:!0,type:!0,name:!0,size:!0,style:!0}),We=N(st),J=p(st,"BUTTON",{id:!0,type:!0,onclick:!0,style:!0});var kt=x(J);Je=j(kt,"\u{1F441}\uFE0F"),kt.forEach(o),st.forEach(o),ue=N(_t),_t.forEach(o),Et.forEach(o),Pe=p(Ie,"TR",{});var zt=x(Pe);Te=p(zt,"TD",{style:!0});var er=x(Te);er.forEach(o),zt.forEach(o),ke=p(Ie,"TR",{});var Lt=x(ke);le=p(Lt,"TD",{style:!0});var Ue=x(le);W=p(Ue,"SPAN",{style:!0});var Nt=x(W);q=p(Nt,"BUTTON",{style:!0});var Bt=x(q);U=j(Bt,"Connect WiFi"),Bt.forEach(o),Nt.forEach(o),Ze=N(Ue),Ke=p(Ue,"BR",{}),Xe=N(Ue),Qe=p(Ue,"BR",{}),Ye=N(Ue),et=p(Ue,"BR",{}),Ue.forEach(o),Lt.forEach(o),Ie.forEach(o),it.forEach(o),lt.forEach(o),qe=N(I),Ve=p(I,"BR",{}),He=N(I),Ae=p(I,"CENTER",{});var At=x(Ae);K=p(At,"DIV",{style:!0});var It=x(K);pe=p(It,"DIV",{style:!0});var gt=x(pe);ze=wt(gt,"font",{color:!0});var Mt=x(ze);V=j(Mt,"Visible networks"),Mt.forEach(o),se=N(gt),fe=p(gt,"UL",{width:!0,id:!0,style:!0});var Dt=x(fe);ve=p(Dt,"LI",{});var Rt=x(ve);xe=p(Rt,"I",{});var Pt=x(xe);nt=j(Pt,"looking for networks..."),Pt.forEach(o),Rt.forEach(o),Dt.forEach(o),gt.forEach(o),It.forEach(o),At.forEach(o),tt=N(I),Le=p(I,"DIV",{id:!0}),x(Le).forEach(o),Ne=N(I),Ce=p(I,"DIV",{id:!0}),x(Ce).forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px"),w(f,"id","connection"),i(y,"font-size","22px"),i(y,"font-weight","700"),i(y,"color","white"),i(y,"margin-bottom","20px"),w(C,"for","ssid"),w(ee,"id","ssid"),w(ee,"autocorrect","off"),w(ee,"autocapitalize","none"),w(ee,"type","text"),w(ee,"name","ssid"),w(ee,"size","18"),i(ee,"font-size","24px"),i(ee,"margin-top","5px"),ee.required=!0,i(B,"font-size","20px"),i(B,"font-weight","900"),i(Me,"height","25px"),i(de,"font-size","11px"),i(de,"margin-top","-8px"),i(de,"margin-left","2px"),w(Ee,"for","password"),w(te,"id","password"),w(te,"autocorrect","off"),w(te,"autocapitalize","none"),w(te,"autocomplete","off"),w(te,"type","text"),w(te,"name","password"),w(te,"size","18"),i(te,"font-size","24px"),w(J,"id","visibility"),w(J,"type","button"),w(J,"onclick","window.client.toggle_password_visibility(event)"),i(J,"width","30px"),i(J,"height","30px"),i(J,"position","absolute"),i(J,"margin-left","6px"),i(J,"margin-top","1px"),i(J,"border-radius","2px"),i(J,"border-width","1px"),i(J,"background-color","#BBEBFF"),i(G,"font-size","20px"),i(G,"font-weight","900"),i(_e,"font-size","20px"),i(_e,"font-weight","900"),i(Te,"height","25px"),i(q,"color","white"),i(q,"font-weight","normal"),i(q,"text-decoration","none"),i(q,"word-break","break-word"),i(q,"font-size","20px"),i(q,"line-height","26px"),i(q,"border-top","14px solid"),i(q,"border-bottom","14px solid"),i(q,"border-right","32px solid"),i(q,"border-left","32px solid"),i(q,"background-color","#2ab27b"),i(q,"border-color","#2ab27b"),i(q,"display","inline-block"),i(q,"letter-spacing","1px"),i(q,"min-width","80px"),i(q,"text-align","center"),i(q,"border-radius","4px"),i(q,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),i(W,"display","inline-block"),i(W,"border-radius","4px"),i(W,"background","#1f8b5f"),i(W,"border-bottom","2px solid #1f8b5f"),i(le,"text-align","center"),w(A,"width","400"),i(A,"display","grid"),i(A,"place-items","center"),i(A,"background-color","#1B3C45"),w(E,"width","70%"),w(E,"id","connect_wifi_form"),w(E,"enctype","multipart/form-data"),w(E,"method","post"),i(E,"font-size","20px"),i(E,"line-height","26px"),i(E,"margin","0 0 16px"),w(ze,"color","gray"),w(fe,"width","300"),w(fe,"id","networks"),i(fe,"list-style","none"),i(fe,"font-size","20px"),i(fe,"font-weight","900"),i(fe,"margin-left","2px"),i(fe,"margin-top","4px"),i(fe,"white-space","nowrap"),i(pe,"width","220px"),i(pe,"text-align","left"),i(K,"display","grid"),i(K,"place-items","center"),w(Le,"id","statusdiv"),w(Ce,"id","signaldiv")},m(I,F){T(I,e,F),n(e,t),n(e,r),n(r,c),T(I,l,F),T(I,m,F),T(I,_,F),T(I,u,F),T(I,b,F),T(I,h,F),n(h,y),n(y,f),n(f,s),n(f,g),n(f,z),T(I,v,F),T(I,$,F),n($,E),n(E,A),n(A,P),n(P,D),n(D,k),n(D,M),n(D,R),n(D,O),n(D,B),n(B,C),n(C,me),n(B,Y),n(B,Be),n(B,ee),n(D,ae),n(A,ce),n(ce,Me),n(A,De),n(De,_e),n(_e,G),n(G,Ee),n(Ee,Re),n(Ee,de),n(de,Se),n(Se,be),n(G,he),n(G,te),n(G,We),n(G,J),n(J,Je),n(_e,ue),n(A,Pe),n(Pe,Te),n(A,ke),n(ke,le),n(le,W),n(W,q),n(q,U),n(le,Ze),n(le,Ke),n(le,Xe),n(le,Qe),n(le,Ye),n(le,et),T(I,qe,F),T(I,Ve,F),T(I,He,F),T(I,Ae,F),n(Ae,K),n(K,pe),n(pe,ze),n(ze,V),n(pe,se),n(pe,fe),n(fe,ve),n(ve,xe),n(xe,nt),T(I,tt,F),T(I,Le,F),T(I,Ne,F),T(I,Ce,F)},p:Q,i:Q,o:Q,d(I){I&&o(e),I&&o(l),I&&o(m),I&&o(_),I&&o(u),I&&o(b),I&&o(h),I&&o(v),I&&o($),I&&o(qe),I&&o(Ve),I&&o(He),I&&o(Ae),I&&o(tt),I&&o(Le),I&&o(Ne),I&&o(Ce)}}}function Jt(a,e){setTimeout(()=>window.requestAnimationFrame(a),e)}async function zr(a){console.log(a),console.log(a.target),a.preventDefault();let e=new FormData(a.target);console.log(e),console.log(e.get("ssid")),console.log(e.get("password"));let t={ssid:e.get("ssid"),password:e.get("password")};await fetch("/connect",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function Lr(a){let e,t;const r=1*1e3,c=5*1e3;let l,m;Ge(()=>{e=new Request("/status"),t=new Request("/scan"),new Request("/signal"),document.getElementById("connect_wifi_form").addEventListener("submit",zr),u(),h()});function _(){m||(m=document.querySelector("#wifi_section"));let f=m.getBoundingClientRect(),s=f.left;return f.right>0&&s<window.innerWidth}async function u(){try{if(_()){let s=await(await fetch(e)).json();s&&!s.retry&&Object.keys(s).length!==0&&b(s)}}catch(f){console.error(f)}Jt(u,r)}function b(f){let s=document.querySelector("#connection"),g=f.wpa_state,z="\u2022 \u2022 \u2022<br>&nbsp;";if(console.log(f),g){let v=f.ssid.replace(/\n$/,"");g==="COMPLETED"?(z='<div style="position:relative" data-ssid="'+(v||"")+'"><font color="gray">connected to </font>'+(v||"unknown")+"&nbsp;&nbsp;",l&&(z+='<span style="position:absolute;color:#AAAAAA">'+l+"</span>"),z+="</div>"):console.log("state =",g),f.ip_address?z+='<br><span style="position:absolute;color:#AAAAAA">'+f.ip_address+"</span>":z+="<br>&nbsp;"}s.innerHTML=z}async function h(){try{if(_()){let s=await(await fetch(t)).json();console.log(s),s&&!s.retry&&Object.keys(s).length!==0&&y(s)}}catch(f){console.error(f)}Jt(h,c)}function y(f){let s=document.querySelector("#networks"),g="",z=[];try{for(let v=0;v<f.length;v++){let $=f[v],E=$.ssid;!E||E.includes("\0")||E.includes("\\x00")||E.startsWith("mkn0")||z.includes(E)||(z.push(E),g+='<li onclick="window.client.click_network(event)"><div style="position:relative"><div style="position:absolute;color:#AAAAAA;left:-38px">'+$.signal+'</div><div style="position:absolute;color:#AAAAAA;left:-62px;font-size:14px;opacity:0.6">'+($.security?"\u{1F512}":"")+'</div><span class="clickssid">'+E+`</span></li>
`,l=$.signal)}}catch(v){console.error(v)}s.innerHTML=g}return[]}class Nr extends we{constructor(e){super();ye(this,e,Lr,kr,$e,{})}}function Br(a){let e,t,r,c,l,m,_,u,b,h,y;return{c(){e=d("h2"),t=H(`\u{1F4F9}
    `),r=d("span"),c=H("Video Setup"),l=L(),m=d("br"),_=L(),u=d("br"),b=L(),h=d("h2"),y=H("All settings are currently automatic"),this.h()},l(f){e=p(f,"H2",{style:!0});var s=x(e);t=j(s,`\u{1F4F9}
    `),r=p(s,"SPAN",{style:!0});var g=x(r);c=j(g,"Video Setup"),g.forEach(o),s.forEach(o),l=N(f),m=p(f,"BR",{}),_=N(f),u=p(f,"BR",{}),b=N(f),h=p(f,"H2",{});var z=x(h);y=j(z,"All settings are currently automatic"),z.forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px")},m(f,s){T(f,e,s),n(e,t),n(e,r),n(r,c),T(f,l,s),T(f,m,s),T(f,_,s),T(f,u,s),T(f,b,s),T(f,h,s),n(h,y)},p:Q,i:Q,o:Q,d(f){f&&o(e),f&&o(l),f&&o(m),f&&o(_),f&&o(u),f&&o(b),f&&o(h)}}}class Ar extends we{constructor(e){super();ye(this,e,null,Br,$e,{})}}function Ir(a){let e,t,r,c,l,m,_,u,b,h,y;return{c(){e=d("h2"),t=H(`\u{1F4F7}
    `),r=d("span"),c=H("Photo Setup"),l=L(),m=d("br"),_=L(),u=d("br"),b=L(),h=d("h2"),y=H("All settings are currently automatic"),this.h()},l(f){e=p(f,"H2",{style:!0});var s=x(e);t=j(s,`\u{1F4F7}
    `),r=p(s,"SPAN",{style:!0});var g=x(r);c=j(g,"Photo Setup"),g.forEach(o),s.forEach(o),l=N(f),m=p(f,"BR",{}),_=N(f),u=p(f,"BR",{}),b=N(f),h=p(f,"H2",{});var z=x(h);y=j(z,"All settings are currently automatic"),z.forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px")},m(f,s){T(f,e,s),n(e,t),n(e,r),n(r,c),T(f,l,s),T(f,m,s),T(f,_,s),T(f,u,s),T(f,b,s),T(f,h,s),n(h,y)},p:Q,i:Q,o:Q,d(f){f&&o(e),f&&o(l),f&&o(m),f&&o(_),f&&o(u),f&&o(b),f&&o(h)}}}class Mr extends we{constructor(e){super();ye(this,e,null,Ir,$e,{})}}function Dr(a){let e;return{c(){e=d("div"),this.h()},l(t){e=p(t,"DIV",{id:!0,style:!0}),x(e).forEach(o),this.h()},h(){w(e,"id",a[1]),i(e,"width","530px"),i(e,"height",a[0])},m(t,r){T(t,e,r)},p(t,[r]){r&1&&i(e,"height",t[0])},i:Q,o:Q,d(t){t&&o(e)}}}const $t=350,Rr=70;function Pr(a,e,t){let{programid:r}=e,{height:c}=e,{formatNodeTextLabel:l}=e;const m=qt();let _,u,b=r+"-diagram";function h(){if(u){u.clearSelection();let v=document.querySelector(`#${b} > canvas`);v&&v.blur()}}Ge(async()=>{_=await(await fetch(`/mission/diagram/${r}`)).json(),s()});function y(){u.nodes.each(function(v){v instanceof S.exports.Group&&v.category!=="Pool"&&(v.layout.isValidLayout=!1)}),u.layoutDiagram()}function f(){u.layout.invalidateLayout(),u.findTopLevelGroups().each(function(v){v.category==="Pool"&&v.layout.invalidateLayout()}),u.layoutDiagram()}function s(){var v=S.exports.GraphObject.make;u=v(S.exports.Diagram,b,{resizingTool:new g,layout:v(z,{spacing:new S.exports.Size(0,40)}),mouseDragOver(k){k.diagram.selection.all(function(M){return M instanceof S.exports.Group})||(k.diagram.currentCursor="not-allowed")},mouseDrop(k){k.diagram.selection.all(function(M){return M instanceof S.exports.Group})||k.diagram.currentTool.doCancel()},autoScale:S.exports.Diagram.Uniform,allowHorizontalScroll:!1,"commandHandler.copiesGroupKey":!0,SelectionMoved:f,SelectionCopied:f,"animationManager.isEnabled":!1,"undoManager.isEnabled":!0});function $(){return[{layerName:"Background",background:"transparent",movable:!0,copyable:!1,avoidable:!1,minLocation:new S.exports.Point(NaN,-1/0),maxLocation:new S.exports.Point(NaN,1/0)},new S.exports.Binding("location","loc",S.exports.Point.parse).makeTwoWay(S.exports.Point.stringify)]}function E(k){k.findExternalLinksConnected().each(function(M){M.visible=M.fromNode.isVisible()&&M.toNode.isVisible()})}u.groupTemplate=v(S.exports.Group,"Horizontal",$(),{selectionObjectName:"SHAPE",resizable:!0,resizeObjectName:"SHAPE",layout:v(S.exports.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,direction:0,columnSpacing:10,layeringOption:S.exports.LayeredDigraphLayout.LayerLongestPathSource}),computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,computesBoundsIncludingLocation:!0,handlesDragDropForMembers:!0,mouseDrop(k,M){if(!!k.shift)if(k.diagram.selection.any(function(O){return O instanceof S.exports.Group}))k.diagram.currentTool.doCancel();else{var R=M.addMembers(M.diagram.selection,!0);R?E(M):M.diagram.currentTool.doCancel()}},subGraphExpandedChanged(k){var M=k.resizeObject;k.diagram.undoManager.isUndoingRedoing||(k.isSubGraphExpanded?M.height=k._savedBreadth:(k._savedBreadth=M.height,M.height=NaN),E(k))}},new S.exports.Binding("isSubGraphExpanded","expanded").makeTwoWay(),v(S.exports.Panel,"Horizontal",{name:"HEADER",angle:270,alignment:S.exports.Spot.Center},v(S.exports.Panel,"Horizontal",new S.exports.Binding("visible","isSubGraphExpanded").ofObject())),v(S.exports.Panel,"Auto",v(S.exports.Shape,"Rectangle",{name:"SHAPE",fill:"white"},new S.exports.Binding("fill","color"),new S.exports.Binding("desiredSize","size",S.exports.Size.parse).makeTwoWay(S.exports.Size.stringify)),v(S.exports.Placeholder,{padding:2,alignment:S.exports.Spot.TopLeft}),v(S.exports.TextBlock,{name:"LABEL",font:"bold 13pt Helvetica,sans-serif",editable:!0,angle:0,alignment:S.exports.Spot.TopLeft,margin:new S.exports.Margin(2,0,0,4)},new S.exports.Binding("visible","isSubGraphExpanded",function(k){return!k}).ofObject(),new S.exports.Binding("text","text").makeTwoWay()))),u.groupTemplate.resizeAdornmentTemplate=v(S.exports.Adornment,"Spot",v(S.exports.Placeholder),v(S.exports.Shape,{alignment:S.exports.Spot.Right,desiredSize:new S.exports.Size(7,50),fill:"lightblue",stroke:"dodgerblue",cursor:"col-resize"},new S.exports.Binding("visible","",function(k){return k.adornedPart===null?!1:k.adornedPart.isSubGraphExpanded}).ofObject()),v(S.exports.Shape,{alignment:S.exports.Spot.Bottom,desiredSize:new S.exports.Size(50,7),fill:"lightblue",stroke:"dodgerblue",cursor:"row-resize"},new S.exports.Binding("visible","",function(k){return k.adornedPart===null?!1:k.adornedPart.isSubGraphExpanded}).ofObject())),u.groupTemplateMap.add("Pool",v(S.exports.Group,"Auto",$(),{layout:v(z,{spacing:new S.exports.Size(0,0)})},v(S.exports.Shape,{fill:"white"},new S.exports.Binding("fill","color")),v(S.exports.Panel,"Table",{defaultColumnSeparatorStroke:"#D2E0E3"},v(S.exports.Panel,"Horizontal",{column:0,angle:270}),v(S.exports.Placeholder,{column:1})))),u.linkTemplate=v(S.exports.Link,{routing:S.exports.Link.AvoidsNodes,corner:5},{relinkableFrom:!0,relinkableTo:!0},v(S.exports.Shape,{stroke:"#D3E0E3",strokeWidth:2}),v(S.exports.Shape,{toArrow:"Standard",stroke:"#D3E0E3",fill:"#D3E0E3"})),u.nodeTemplate=v(S.exports.Node,"Auto",new S.exports.Binding("location","loc",S.exports.Point.parse).makeTwoWay(S.exports.Point.stringify),v(S.exports.Shape,{figure:"Rectangle",height:90,width:220,strokeWidth:0,fill:"#D2E0E3",portId:"",cursor:"pointer",fromLinkable:!0,toLinkable:!0},new S.exports.Binding("fill","color")),v(S.exports.TextBlock,{margin:new S.exports.Margin(8,12,8,12),font:"24px Helvetica,sans-serif"},new S.exports.Binding("text","",l)),{dragComputation:k=>{k.diagram.currentTool.doCancel()},selectionChanged:k=>{console.log("partp",k),k.data.param&&m("selectionchanged",k)}}),u.isReadOnly=!0,u.toolManager.panningTool.isEnabled=!1,u.toolManager.dragSelectingTool.isEnabled=!1,u.allowHorizontalScroll=!1,u.allowVerticalScroll=!1,u.allowZoom=!1,u.model=new S.exports.GraphLinksModel(_[0],_[1]);let A=u.model.toJson(),P=JSON.parse(A);A=JSON.stringify(P,0,4),y();let D=u.toolManager.clickSelectingTool;D.standardMouseSelect=()=>{let M=D.diagram.lastInput;console.log("over",M),S.exports.ClickSelectingTool.prototype.standardMouseSelect.call(D)}}class g extends S.exports.ResizingTool{static computeMinPoolSize($){var E=$t;return $.memberParts.each(function(A){if(A instanceof S.exports.Group){var P=A.placeholder;if(P!==null){var D=P.actualBounds;E=Math.max(E,D.width)}}}),new S.exports.Size(E,NaN)}static computeLaneSize($){var E=g.computeMinLaneSize($);if($.isSubGraphExpanded){var A=$.placeholder;if(A!==null){var P=A.actualBounds;E.height=Math.ceil(Math.max(E.height,P.height))}}var D=$.findObject("HEADER");return D!==null&&(E.height=Math.ceil(Math.max(E.height,D.actualBounds.height))),E}static computeMinLaneSize($){return $.isSubGraphExpanded?new S.exports.Size($t,Rr):new S.exports.Size($t,1)}isLengthening(){return this.handle.alignment===S.exports.Spot.Right}computeMinSize(){var $=this.adornedObject.part,E=g.computeMinLaneSize($);if(this.isLengthening()){var A=g.computeMinPoolSize($.containingGroup);E.width=Math.max(E.width,A.width)}else{var A=g.computeLaneSize($);E.width=Math.max(E.width,A.width),E.height=Math.max(E.height,A.height)}return E}resize($){var E=this.adornedObject.part;this.isLengthening()?E.containingGroup.memberParts.each(function(A){if(A instanceof S.exports.Group){var P=A.resizeObject;P!==null&&(P.width=$.width)}}):super.resize($),this.relayoutDiagram()}}class z extends S.exports.GridLayout{constructor(){super();this.cellSize=new S.exports.Size(1,1),this.wrappingColumn=1,this.wrappingWidth=1/0,this.isRealtime=!1,this.alignment=S.exports.GridLayout.Position,this.boundsComputation=function($,E,A){return $.getDocumentBounds(A),A.inflate(-1,-1),A}}doLayout($){if(this.diagram!==null){this.diagram.startTransaction("PoolLayout");var E=this.group;if(E!==null&&E.category==="Pool"){var A=g.computeMinPoolSize(E);E.memberParts.each(function(P){if(P instanceof S.exports.Group&&P.category!=="Pool"){var D=P.resizeObject;if(D!==null){var k=g.computeLaneSize(P);D.width=isNaN(D.width)?A.width:Math.max(D.width,A.width),D.height=isNaN(D.height)?k.height:Math.max(D.height,k.height);var M=P.resizeCellSize;!isNaN(D.width)&&!isNaN(M.width)&&M.width>0&&(D.width=Math.ceil(D.width/M.width)*M.width),!isNaN(D.height)&&!isNaN(M.height)&&M.height>0&&(D.height=Math.ceil(D.height/M.height)*M.height)}}})}super.doLayout($),u.commitTransaction("PoolLayout")}}}return a.$$set=v=>{"programid"in v&&t(2,r=v.programid),"height"in v&&t(0,c=v.height),"formatNodeTextLabel"in v&&t(3,l=v.formatNodeTextLabel)},[c,b,r,l,h]}class Cr extends we{constructor(e){super();ye(this,e,Pr,Dr,$e,{programid:2,height:0,formatNodeTextLabel:3,clearSelection:4})}get clearSelection(){return this.$$.ctx[4]}}function Or(a){let e,t,r,c,l;return{c(){e=d("div"),t=xt("svg"),r=xt("path"),this.h()},l(m){e=p(m,"DIV",{class:!0});var _=x(e);t=wt(_,"svg",{fill:!0,viewBox:!0,height:!0,width:!0,xmlns:!0});var u=x(t);r=wt(u,"path",{xmlns:!0,d:!0,fill:!0}),x(r).forEach(o),u.forEach(o),_.forEach(o),this.h()},h(){w(r,"xmlns","http://www.w3.org/2000/svg"),w(r,"d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM7.79289 7.79289C8.18342 7.40237 8.81658 7.40237 9.20711 7.79289L12 10.5858L14.7929 7.79289C15.1834 7.40237 15.8166 7.40237 16.2071 7.79289C16.5976 8.18342 16.5976 8.81658 16.2071 9.20711L13.4142 12L16.2071 14.7929C16.5976 15.1834 16.5976 15.8166 16.2071 16.2071C15.8166 16.5976 15.1834 16.5976 14.7929 16.2071L12 13.4142L9.20711 16.2071C8.81658 16.5976 8.18342 16.5976 7.79289 16.2071C7.40237 15.8166 7.40237 15.1834 7.79289 14.7929L10.5858 12L7.79289 9.20711C7.40237 8.81658 7.40237 8.18342 7.79289 7.79289Z"),w(r,"fill","#7BA5AF"),w(t,"fill","none"),w(t,"viewBox","0 0 24 24"),w(t,"height","48"),w(t,"width","48"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(e,"class","close svelte-1vddyue")},m(m,_){T(m,e,_),n(e,t),n(t,r),c||(l=at(e,"click",a[0]),c=!0)},p:Q,i:Q,o:Q,d(m){m&&o(e),c=!1,l()}}}function qr(a){const e=qt();let t;Ge(()=>{t=setInterval(l,100)}),yt(()=>{t&&(clearInterval(t),t=!1)});let r,c;function l(){r||(r=document.querySelector("#sectionholder"),c=r.scrollLeft),r.scrollLeft!=c&&(c=r.scrollLeft,e("click"))}function m(_){ar.call(this,a,_)}return[m]}class Vr extends we{constructor(e){super();ye(this,e,qr,Or,$e,{})}}function Zt(a,e,t){const r=a.slice();return r[21]=e[t],r}function Kt(a){let e,t,r,c,l,m,_,u;function b(g,z){return g[2].options?Hr:jr}let h=b(a),y=h(a);function f(g){a[18](g)}let s={step:a[2].step,min:a[6],max:a[7],pips:!0,first:"label",last:"label",rest:!1};return a[3]!==void 0&&(s.values=a[3]),c=new dr({props:s}),jt.push(()=>pr(c,"values",f)),c.$on("change",a[10]),{c(){e=d("input"),t=L(),y.c(),r=L(),re(c.$$.fragment),this.h()},l(g){e=p(g,"INPUT",{type:!0,size:!0,class:!0}),t=N(g),y.l(g),r=N(g),ie(c.$$.fragment,g),this.h()},h(){w(e,"type","text"),w(e,"size","6"),w(e,"class","svelte-okhyeb")},m(g,z){T(g,e,z),Vt(e,a[2].value),T(g,t,z),y.m(g,z),T(g,r,z),oe(c,g,z),m=!0,_||(u=[at(e,"input",a[16]),at(e,"change",a[9])],_=!0)},p(g,z){z&4&&e.value!==g[2].value&&Vt(e,g[2].value),h===(h=b(g))&&y?y.p(g,z):(y.d(1),y=h(g),y&&(y.c(),y.m(r.parentNode,r)));const v={};z&4&&(v.step=g[2].step),z&64&&(v.min=g[6]),z&128&&(v.max=g[7]),!l&&z&8&&(l=!0,v.values=g[3],ur(()=>l=!1)),c.$set(v)},i(g){m||(Z(c.$$.fragment,g),m=!0)},o(g){X(c.$$.fragment,g),m=!1},d(g){g&&o(e),g&&o(t),y.d(g),g&&o(r),ne(c,g),_=!1,Ht(u)}}}function Hr(a){let e,t,r,c=a[2].options_order,l=[];for(let m=0;m<c.length;m+=1)l[m]=Xt(Zt(a,c,m));return{c(){e=d("select");for(let m=0;m<l.length;m+=1)l[m].c();this.h()},l(m){e=p(m,"SELECT",{class:!0,id:!0});var _=x(e);for(let u=0;u<l.length;u+=1)l[u].l(_);_.forEach(o),this.h()},h(){w(e,"class","units_select svelte-okhyeb"),w(e,"id","edit_units"),a[2].edit_units===void 0&&mr(()=>a[17].call(e))},m(m,_){T(m,e,_);for(let u=0;u<l.length;u+=1)l[u].m(e,null);Ft(e,a[2].edit_units),t||(r=[at(e,"change",a[17]),at(e,"change",a[8])],t=!0)},p(m,_){if(_&4){c=m[2].options_order;let u;for(u=0;u<c.length;u+=1){const b=Zt(m,c,u);l[u]?l[u].p(b,_):(l[u]=Xt(b),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}_&4&&Ft(e,m[2].edit_units)},d(m){m&&o(e),hr(l,m),t=!1,Ht(r)}}}function jr(a){let e,t;return{c(){e=d("span"),t=H(a[4]),this.h()},l(r){e=p(r,"SPAN",{class:!0});var c=x(e);t=j(c,a[4]),c.forEach(o),this.h()},h(){w(e,"class","units svelte-okhyeb")},m(r,c){T(r,e,c),n(e,t)},p(r,c){c&16&&Ut(t,r[4])},d(r){r&&o(e)}}}function Xt(a){let e,t=a[2].options[a[21]].label+"",r,c;return{c(){e=d("option"),r=H(t),this.h()},l(l){e=p(l,"OPTION",{class:!0});var m=x(e);r=j(m,t),m.forEach(o),this.h()},h(){w(e,"class","units svelte-okhyeb"),e.__value=c=a[21],e.value=e.__value},m(l,m){T(l,e,m),n(e,r)},p(l,m){m&4&&t!==(t=l[2].options[l[21]].label+"")&&Ut(r,t),m&4&&c!==(c=l[21])&&(e.__value=c,e.value=e.__value)},d(l){l&&o(e)}}}function Ur(a){let e,t,r,c,l,m,_,u,b,h,y={programid:a[0],height:a[1],formatNodeTextLabel:Fr};t=new Cr({props:y}),a[15](t),t.$on("selectionchanged",a[11]);let f=a[2]&&Kt(a);return b=new Vr({}),b.$on("click",a[12]),{c(){e=d("div"),re(t.$$.fragment),r=L(),c=d("div"),l=d("br"),m=L(),_=d("div"),f&&f.c(),u=L(),re(b.$$.fragment),this.h()},l(s){e=p(s,"DIV",{style:!0});var g=x(e);ie(t.$$.fragment,g),r=N(g),c=p(g,"DIV",{style:!0});var z=x(c);l=p(z,"BR",{}),m=N(z),_=p(z,"DIV",{class:!0});var v=x(_);f&&f.l(v),u=N(v),ie(b.$$.fragment,v),v.forEach(o),z.forEach(o),g.forEach(o),this.h()},h(){w(_,"class","sliderContainer svelte-okhyeb"),i(c,"position","fixed"),i(c,"left","0px"),i(c,"bottom",a[2]?"0px":"-200px"),i(c,"height","200px"),i(c,"z-index","900"),i(c,"width","100%"),i(c,"background-color","rgba(0,0,0,0.75)"),i(c,"transition","all 0.2s"),i(e,"position","relative")},m(s,g){T(s,e,g),oe(t,e,null),n(e,r),n(e,c),n(c,l),n(c,m),n(c,_),f&&f.m(_,null),n(_,u),oe(b,_,null),h=!0},p(s,[g]){const z={};g&1&&(z.programid=s[0]),g&2&&(z.height=s[1]),t.$set(z),s[2]?f?(f.p(s,g),g&4&&Z(f,1)):(f=Kt(s),f.c(),Z(f,1),f.m(_,u)):f&&(fr(),X(f,1,1,()=>{f=null}),cr()),(!h||g&4)&&i(c,"bottom",s[2]?"0px":"-200px")},i(s){h||(Z(t.$$.fragment,s),Z(f),Z(b.$$.fragment,s),h=!0)},o(s){X(t.$$.fragment,s),X(f),X(b.$$.fragment,s),h=!1},d(s){s&&o(e),a[15](null),ne(t),f&&f.d(),ne(b)}}}function Fr(a){let e=a.text||"#";try{if(a.editing&&a.editing.options&&!a.editing.options_order){let r=a.editing.options;a.editing.options_order=Object.keys(r),a.editing.options_order.sort((c,l)=>r[c].rank>r[l].rank?1:-1)}let t={};if(a.edit_units&&a.editing.options&&(t=a.editing.options[a.edit_units]),a&&a.template){let r=a.value,c=t&&t.scale||a.scale||1,l=1;r=(r/c).toFixed(l).replace(/\.0+$/,""),e=a.template,e=e.replace(/{units}/g,a.edit_units||""),e=e.replace(/{abbr}/g,t&&t.abbr||a.abbr||a.edit_units||""),e=e.replace(/{x}/g,r),e=e.replace(/{s}/g,r===1?"":"s")}}catch(t){console.error("error in formatNodeTextLabel",t)}return e}function Gr(a,e,t){let{programid:r}=e,{height:c="790px"}=e,l,m=[0],_="",u,b,h,y,f;Ge(()=>{t(13,b=Gt())}),yt(()=>{});function s(k){let M=h.data,R=l.options[l.edit_units],O=R.step<1?1:0;t(2,l=Fe(Fe({},l),R)),t(6,y=Number(R.range.low.toFixed(O))),t(7,f=Number(R.range.high.toFixed(O))),M.edit_units=l.edit_units;let B=h.data.param+"_EDIT_UNITS";b.emit("updateparam",{programid:r,name:B,value:M.edit_units})}function g(k){t(3,m[0]=l.value,m)}function z(k){t(2,l.value=k.detail.value,l)}function v(k){let M=k.detail,R=M.data;if(M.elt(0),!M||!M.isSelected||!R||!R.param){t(14,h=void 0),t(2,l=!1);return}t(14,h=M);let O={step:1,scale:1},B={};if(R.editing&&R.editing.options){let me=R.editing.options,Y=R.edit_units;(!Y||!(Y in me))&&(Y=l.options_order[0]),B=me[Y],B.edit_units=Y}R.editing?t(2,l=Fe(Fe(Fe({},O),R.editing),B)):t(2,l=Fe(Fe({},O),B));let C=B.step<1?1:0;t(2,l.value=(R.value/l.scale).toFixed(C).replace(/\.0+$/,""),l),t(6,y=Number(B.range.low.toFixed(C))),t(7,f=Number(B.range.high.toFixed(C))),t(4,_=R.label||""),t(4,_=_.replace(/{s}/g,l.value===1?"":"s"))}function $(){t(2,l=!1),u.clearSelection()}function E(k){jt[k?"unshift":"push"](()=>{u=k,t(5,u)})}function A(){l.value=this.value,t(2,l)}function P(){l.edit_units=gr(this),t(2,l)}function D(k){m=k,t(3,m),t(14,h),t(2,l),t(13,b),t(0,r)}return a.$$set=k=>{"programid"in k&&t(0,r=k.programid),"height"in k&&t(1,c=k.height)},a.$$.update=()=>{if(a.$$.dirty&24581&&h&&l){let k=h.data,M=h.diagram,R=Math.round(l.value*l.scale);if(t(3,m[0]=l.value,m),b.emit("updateparam",{programid:r,name:h.data.param,value:R}),k&&k.param&&M){let O=k.label||"#";O=O.replace(/{s}/g,l.value===1?"":"s"),t(4,_=O),M.model.set(k,"value",R)}}},[r,c,l,m,_,u,y,f,s,g,z,v,$,b,h,E,A,P,D]}class Qt extends we{constructor(e){super();ye(this,e,Gr,Ur,$e,{programid:0,height:1})}}function Wr(a){let e,t,r,c,l,m,_,u,b,h,y,f;return y=new Qt({props:{programid:"mission1"}}),{c(){e=d("h2"),t=d("img"),c=L(),l=d("span"),m=H("Test Mission I"),_=L(),u=d("br"),b=L(),h=d("center"),re(y.$$.fragment),this.h()},l(s){e=p(s,"H2",{style:!0});var g=x(e);t=p(g,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=N(g),l=p(g,"SPAN",{style:!0});var z=x(l);m=j(z,"Test Mission I"),z.forEach(o),g.forEach(o),_=N(s),u=p(s,"BR",{}),b=N(s),h=p(s,"CENTER",{});var v=x(h);ie(y.$$.fragment,v),v.forEach(o),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),vt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px")},m(s,g){T(s,e,g),n(e,t),n(e,c),n(e,l),n(l,m),T(s,_,g),T(s,u,g),T(s,b,g),T(s,h,g),oe(y,h,null),f=!0},p:Q,i(s){f||(Z(y.$$.fragment,s),f=!0)},o(s){X(y.$$.fragment,s),f=!1},d(s){s&&o(e),s&&o(_),s&&o(u),s&&o(b),s&&o(h),ne(y)}}}class Jr extends we{constructor(e){super();ye(this,e,null,Wr,$e,{})}}function Zr(a){let e,t,r,c,l,m,_,u,b,h,y,f;return y=new Qt({props:{programid:"mission2",height:"700px"}}),{c(){e=d("h2"),t=d("img"),c=L(),l=d("span"),m=H("Test Mission II"),_=L(),u=d("br"),b=L(),h=d("center"),re(y.$$.fragment),this.h()},l(s){e=p(s,"H2",{style:!0});var g=x(e);t=p(g,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=N(g),l=p(g,"SPAN",{style:!0});var z=x(l);m=j(z,"Test Mission II"),z.forEach(o),g.forEach(o),_=N(s),u=p(s,"BR",{}),b=N(s),h=p(s,"CENTER",{});var v=x(h);ie(y.$$.fragment,v),v.forEach(o),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),vt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px")},m(s,g){T(s,e,g),n(e,t),n(e,c),n(e,l),n(l,m),T(s,_,g),T(s,u,g),T(s,b,g),T(s,h,g),oe(y,h,null),f=!0},p:Q,i(s){f||(Z(y.$$.fragment,s),f=!0)},o(s){X(y.$$.fragment,s),f=!1},d(s){s&&o(e),s&&o(_),s&&o(u),s&&o(b),s&&o(h),ne(y)}}}class Kr extends we{constructor(e){super();ye(this,e,null,Zr,$e,{})}}const{document:Yt}=br;function Xr(a){let e,t;return e=new $r({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Qr(a){let e,t;return e=new Tr({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Yr(a){let e,t;return e=new Nr({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function ei(a){let e,t;return e=new Ar({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function ti(a){let e,t;return e=new Mr({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function ri(a){let e,t;return e=new Jr({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function ii(a){let e,t;return e=new Kr({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,c){oe(e,r,c),t=!0},i(r){t||(Z(e.$$.fragment,r),t=!0)},o(r){X(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function oi(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,z,v;return r=new ot({props:{id:"media_manager",$$slots:{default:[Xr]},$$scope:{ctx:a}}}),l=new ot({props:{id:"username_section",$$slots:{default:[Qr]},$$scope:{ctx:a}}}),_=new ot({props:{id:"wifi_section",$$slots:{default:[Yr]},$$scope:{ctx:a}}}),b=new ot({props:{id:"video_setup_section",$$slots:{default:[ei]},$$scope:{ctx:a}}}),y=new ot({props:{id:"photo_setup_section",$$slots:{default:[ti]},$$scope:{ctx:a}}}),s=new ot({props:{id:"mission-1-setup",$$slots:{default:[ri]},$$scope:{ctx:a}}}),z=new ot({props:{id:"mission-2-setup",$$slots:{default:[ii]},$$scope:{ctx:a}}}),{c(){e=L(),t=d("div"),re(r.$$.fragment),c=L(),re(l.$$.fragment),m=L(),re(_.$$.fragment),u=L(),re(b.$$.fragment),h=L(),re(y.$$.fragment),f=L(),re(s.$$.fragment),g=L(),re(z.$$.fragment),this.h()},l($){_r('[data-svelte="svelte-1x4iabj"]',Yt.head).forEach(o),e=N($),t=p($,"DIV",{id:!0});var A=x(t);ie(r.$$.fragment,A),c=N(A),ie(l.$$.fragment,A),m=N(A),ie(_.$$.fragment,A),u=N(A),ie(b.$$.fragment,A),h=N(A),ie(y.$$.fragment,A),f=N(A),ie(s.$$.fragment,A),g=N(A),ie(z.$$.fragment,A),A.forEach(o),this.h()},h(){Yt.title="Maka Niu",w(t,"id","sectionholder")},m($,E){T($,e,E),T($,t,E),oe(r,t,null),n(t,c),oe(l,t,null),n(t,m),oe(_,t,null),n(t,u),oe(b,t,null),n(t,h),oe(y,t,null),n(t,f),oe(s,t,null),n(t,g),oe(z,t,null),v=!0},p($,[E]){const A={};E&16&&(A.$$scope={dirty:E,ctx:$}),r.$set(A);const P={};E&16&&(P.$$scope={dirty:E,ctx:$}),l.$set(P);const D={};E&16&&(D.$$scope={dirty:E,ctx:$}),_.$set(D);const k={};E&16&&(k.$$scope={dirty:E,ctx:$}),b.$set(k);const M={};E&16&&(M.$$scope={dirty:E,ctx:$}),y.$set(M);const R={};E&16&&(R.$$scope={dirty:E,ctx:$}),s.$set(R);const O={};E&16&&(O.$$scope={dirty:E,ctx:$}),z.$set(O)},i($){v||(Z(r.$$.fragment,$),Z(l.$$.fragment,$),Z(_.$$.fragment,$),Z(b.$$.fragment,$),Z(y.$$.fragment,$),Z(s.$$.fragment,$),Z(z.$$.fragment,$),v=!0)},o($){X(r.$$.fragment,$),X(l.$$.fragment,$),X(_.$$.fragment,$),X(b.$$.fragment,$),X(y.$$.fragment,$),X(s.$$.fragment,$),X(z.$$.fragment,$),v=!1},d($){$&&o(e),$&&o(t),ne(r),ne(l),ne(_),ne(b),ne(y),ne(s),ne(z)}}}function ni(a){let e;Ge(()=>{e=setInterval(c,100)}),yt(()=>{e&&(clearInterval(e),e=!1)});let t,r;function c(){t||(t=document.querySelector("#sectionholder"),r=t.scrollLeft),t.scrollLeft!=r&&(r=t.scrollLeft)}return[]}class ai extends we{constructor(e){super();ye(this,e,ni,oi,$e,{})}}export{ai as default};
