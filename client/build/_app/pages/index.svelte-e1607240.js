var tr=Object.defineProperty;var Ct=Object.getOwnPropertySymbols;var rr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable;var Ot=(a,e,t)=>e in a?tr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Je=(a,e)=>{for(var t in e||(e={}))rr.call(e,t)&&Ot(a,t,e[t]);if(Ct)for(var t of Ct(e))ir.call(e,t)&&Ot(a,t,e[t]);return a};import{S as ve,i as xe,s as we,D as or,e as d,c as p,a as x,d as o,b as w,f as k,E as nr,F as lr,G as sr,p as J,n as Z,u as Ze,t as H,j as N,g as j,l as B,J as i,H as n,K as ft,I as X,L as xt,M as wt,N as yt,O as qt,P as S,Q as $t,R as ar,v as oe,w as ne,T as Vt,x as le,U as ur,A as se,V as Ht,m as fr,o as cr,W as dr,X as jt,Y as pr,h as Ut,Z as mr,_ as Ft,$ as hr,a0 as gr,a1 as _r,a2 as br}from"../chunks/vendor-0fc4abed.js";function vr(a){let e,t;const r=a[2].default,c=or(r,a,a[1],null);return{c(){e=d("section"),c&&c.c(),this.h()},l(l){e=p(l,"SECTION",{id:!0});var m=x(e);c&&c.l(m),m.forEach(o),this.h()},h(){w(e,"id",a[0])},m(l,m){k(l,e,m),c&&c.m(e,null),t=!0},p(l,[m]){c&&c.p&&(!t||m&2)&&nr(c,r,l,l[1],t?sr(r,l[1],m,null):lr(l[1]),null),(!t||m&1)&&w(e,"id",l[0])},i(l){t||(J(c,l),t=!0)},o(l){Z(c,l),t=!1},d(l){l&&o(e),c&&c.d(l)}}}function xr(a,e,t){let{$$slots:r={},$$scope:c}=e,{id:l}=e;Ze(()=>{if(window.location.hash.substr(1)){if(_(),m.page){let u=Number(m.page),b=document.querySelectorAll("section");b[u-1]&&b[u-1].scrollIntoView(!0)}}else{window.location.hash="page=2";let u=2,b=document.querySelectorAll("section");b[u-1]&&b[u-1].scrollIntoView(!0)}});let m={};function _(){m=window.location.hash.substr(1).split("&").reduce(function(b,h){let y=h.split("=");return typeof y[1]=="undefined"&&(y[1]=!0),b[y[0]]=y[1],b},{})}return a.$$set=u=>{"id"in u&&t(0,l=u.id),"$$scope"in u&&t(1,c=u.$$scope)},[l,c,r]}class st extends ve{constructor(e){super();xe(this,e,xr,vr,we,{id:0})}}let ct;function Gt(){return ct||(ct=io.connect(),ct.on("error",console.error),ct.on("connect",()=>{console.log("web socket connected")}),ct.on("disconnect",()=>console.log("web socket disconnected"))),ct}function wr(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,L,v,$,E,A,R,D,z,I,O,C;return{c(){e=d("h2"),t=d("span"),r=H("Media Manager"),c=N(),l=d("br"),m=N(),_=d("br"),u=N(),b=d("center"),h=d("button"),y=H("Upload All Files To Tator.io"),f=N(),s=d("div"),g=H("\xA0"),L=N(),v=d("div"),$=H("\xA0"),E=N(),A=d("br"),R=N(),D=d("br"),z=N(),I=d("iframe"),this.h()},l(T){e=p(T,"H2",{style:!0});var q=x(e);t=p(q,"SPAN",{style:!0});var Q=x(t);r=j(Q,"Media Manager"),Q.forEach(o),q.forEach(o),c=B(T),l=p(T,"BR",{}),m=B(T),_=p(T,"BR",{}),u=B(T),b=p(T,"CENTER",{});var Y=x(b);h=p(Y,"BUTTON",{id:!0,style:!0});var Le=x(h);y=j(Le,"Upload All Files To Tator.io"),Le.forEach(o),f=B(Y),s=p(Y,"DIV",{id:!0,style:!0});var re=x(s);g=j(re,"\xA0"),re.forEach(o),L=B(Y),v=p(Y,"DIV",{id:!0,style:!0});var Ne=x(v);$=j(Ne,"\xA0"),Ne.forEach(o),Y.forEach(o),E=B(T),A=p(T,"BR",{}),R=B(T),D=p(T,"BR",{}),z=B(T),I=p(T,"IFRAME",{id:!0,title:!0,width:!0,height:!0});var ae=x(I);ae.forEach(o),this.h()},h(){i(t,"font-size","58px"),i(e,"font-size","64px"),w(h,"id","uploadall"),i(h,"color","white"),i(h,"font-weight","normal"),i(h,"text-decoration","none"),i(h,"word-break","break-word"),i(h,"font-size","14px"),i(h,"line-height","18px"),i(h,"border-top","8px solid"),i(h,"border-bottom","8px solid"),i(h,"border-right","12px solid"),i(h,"border-left","12px solid"),i(h,"background-color","#2ab27b"),i(h,"border-color","#2ab27b"),i(h,"display","inline-block"),i(h,"letter-spacing","1px"),i(h,"min-width","80px"),i(h,"text-align","center"),i(h,"border-radius","4px"),i(h,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),w(s,"id","uploadstatus"),i(s,"color","white"),i(s,"font-size","20px"),i(s,"line-height","22px"),i(s,"margin-top","20px"),w(v,"id","filecounts"),i(v,"color","lightgray"),i(v,"font-size","20px"),i(v,"line-height","22px"),i(v,"margin-top","5px"),w(I,"id","mediamanager"),w(I,"title","Media Manager Files"),w(I,"width","100%"),w(I,"height","100%")},m(T,q){k(T,e,q),n(e,t),n(t,r),k(T,c,q),k(T,l,q),k(T,m,q),k(T,_,q),k(T,u,q),k(T,b,q),n(b,h),n(h,y),n(b,f),n(b,s),n(s,g),n(b,L),n(b,v),n(v,$),k(T,E,q),k(T,A,q),k(T,R,q),k(T,D,q),k(T,z,q),k(T,I,q),O||(C=ft(h,"click",a[0]),O=!0)},p:X,i:X,o:X,d(T){T&&o(e),T&&o(c),T&&o(l),T&&o(m),T&&o(_),T&&o(u),T&&o(b),T&&o(E),T&&o(A),T&&o(R),T&&o(D),T&&o(z),T&&o(I),O=!1,C()}}}function Wt(a){return a.jpg,a.mp4,a.h264,`${a.txt} txts, ${a.jpg||0} jpgs, ${a.mp4||0} mp4s`}function yr(a){let e;Ze(()=>{let _=document.getElementById("mediamanager");_.src=window.location.protocol+"//"+window.location.hostname+"/html/preview.php",e=Gt(),e.on("filecounts",u=>l(u)),e.on("uploadprogress",u=>m(u))});let t=!1;async function r(_){let u=document.querySelector("#uploadall"),b=document.querySelector("#uploadstatus");if(t)c();else try{console.log("upload all!"),u.innerText="  Cancel Upload ",b.innerText="Uploading...",t=!0;let h=await fetch("/uploadall",{method:"POST",headers:{"Content-Type":"application/json"}});if(t=!1,u.innerText="Upload All Files To Tator.io",h.ok){let y=await h.text();console.log("text",y),y||(y="Upload done!"),b.innerText=y}else b.innerText=`Upload error: ${h.statusText}`}catch(h){t=!1,u.innerText="Upload All Files To Tator.io",b.innerText=`Upload error: ${h}`}}async function c(_){let u=document.querySelector("#uploadall"),b=document.querySelector("#uploadstatus");if(t)try{console.log("upload all cancel!"),u.innerText="Canceling...";let h=await fetch("/uploadall_cancel",{method:"POST"});t=!1,u.innerText="Upload All",h.ok?b.innerText="Upload canceled":b.innerText=`Upload cancel error: ${h.statusText}`}catch(h){t=!1,u.innerText="Upload All",b.innerText=`Upload error: ${h}`}}function l(_){if(!t){let u=document.querySelector("#filecounts"),b=Wt(_);u.innerText=b}}function m(_){if(t){let u=document.querySelector("#uploadstatus"),b=document.querySelector("#filecounts"),h=`Uploading ${_.n+1} of ${_.of+1} ${_.ext}s`;u.innerHTML=h;let y=Wt(_.filecounts);b.innerText=y}}return[r]}class $r extends ve{constructor(e){super();xe(this,e,yr,wr,we,{})}}function Er(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,L,v,$,E,A,R,D,z,I,O,C,T,q,Q,Y,Le,re,Ne,ae,me,Re,he,fe,ee,Xe,de,ye,Pe,ge,K,$e,te,Be,Ke,ie,Ce,Ee,ue,ce,P,pe,U,Qe,Ye,et,tt,rt,qe,Ve,He,Ae,Se,G,Te,je;return{c(){e=d("h2"),t=d("img"),c=N(),l=d("span"),m=H("Mission ID"),_=N(),u=d("br"),b=N(),h=d("br"),y=N(),f=d("center"),s=d("div"),g=d("span"),L=H("\xA0"),v=d("br"),$=d("span"),E=H("\xA0"),A=d("br"),R=d("span"),D=H("X"),z=N(),I=d("br"),O=N(),C=d("form"),T=d("table"),q=d("tr"),Q=d("td"),Y=d("br"),Le=N(),re=d("br"),Ne=N(),ae=d("div"),me=d("label"),Re=H("User Name"),he=d("br"),fe=N(),ee=d("input"),Xe=N(),de=d("tr"),ye=d("td"),Pe=d("tr"),ge=d("td"),K=d("div"),$e=d("label"),te=H("Mission ID"),Be=d("div"),Ke=N(),ie=d("input"),Ce=N(),Ee=d("tr"),ue=d("td"),ce=d("tr"),P=d("td"),pe=d("span"),U=d("button"),Qe=H("Save"),Ye=N(),et=d("br"),tt=N(),rt=d("br"),qe=N(),Ve=d("br"),He=N(),Ae=d("br"),Se=N(),G=d("div"),Te=N(),je=d("br"),this.h()},l(V){e=p(V,"H2",{style:!0});var F=x(e);t=p(F,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=B(F),l=p(F,"SPAN",{style:!0});var Ue=x(l);m=j(Ue,"Mission ID"),Ue.forEach(o),F.forEach(o),_=B(V),u=p(V,"BR",{}),b=B(V),h=p(V,"BR",{}),y=B(V),f=p(V,"CENTER",{});var _e=x(f);s=p(_e,"DIV",{style:!0});var Ie=x(s);g=p(Ie,"SPAN",{id:!0});var it=x(g);L=j(it,"\xA0"),it.forEach(o),v=p(Ie,"BR",{}),$=p(Ie,"SPAN",{id:!0,style:!0});var Oe=x($);E=j(Oe,"\xA0"),Oe.forEach(o),A=p(Ie,"BR",{}),R=p(Ie,"SPAN",{id:!0,style:!0});var ot=x(R);D=j(ot,"X"),ot.forEach(o),Ie.forEach(o),z=B(_e),I=p(_e,"BR",{}),O=B(_e),C=p(_e,"FORM",{width:!0,id:!0,enctype:!0,method:!0,style:!0});var ke=x(C);T=p(ke,"TABLE",{width:!0,style:!0});var M=x(T);q=p(M,"TR",{});var W=x(q);Q=p(W,"TD",{});var Me=x(Q);Y=p(Me,"BR",{}),Le=B(Me),re=p(Me,"BR",{}),Ne=B(Me),ae=p(Me,"DIV",{style:!0});var Fe=x(ae);me=p(Fe,"LABEL",{for:!0});var dt=x(me);Re=j(dt,"User Name"),dt.forEach(o),he=p(Fe,"BR",{}),fe=B(Fe),ee=p(Fe,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,type:!0,name:!0,size:!0,style:!0}),Fe.forEach(o),Xe=B(Me),Me.forEach(o),W.forEach(o),de=p(M,"TR",{});var nt=x(de);ye=p(nt,"TD",{style:!0});var gt=x(ye);gt.forEach(o),nt.forEach(o),Pe=p(M,"TR",{});var pt=x(Pe);ge=p(pt,"TD",{style:!0});var De=x(ge);K=p(De,"DIV",{style:!0});var lt=x(K);$e=p(lt,"LABEL",{for:!0});var ze=x($e);te=j(ze,"Mission ID"),Be=p(ze,"DIV",{style:!0}),x(Be).forEach(o),ze.forEach(o),Ke=B(lt),ie=p(lt,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,autocomplete:!0,type:!0,name:!0,size:!0,style:!0}),lt.forEach(o),Ce=B(De),De.forEach(o),pt.forEach(o),Ee=p(M,"TR",{});var Ge=x(Ee);ue=p(Ge,"TD",{style:!0});var _t=x(ue);_t.forEach(o),Ge.forEach(o),ce=p(M,"TR",{});var mt=x(ce);P=p(mt,"TD",{style:!0});var be=x(P);pe=p(be,"SPAN",{style:!0});var ht=x(pe);U=p(ht,"BUTTON",{id:!0,style:!0});var at=x(U);Qe=j(at,"Save"),at.forEach(o),ht.forEach(o),Ye=B(be),et=p(be,"BR",{}),tt=B(be),rt=p(be,"BR",{}),qe=B(be),Ve=p(be,"BR",{}),He=B(be),Ae=p(be,"BR",{}),be.forEach(o),mt.forEach(o),M.forEach(o),Se=B(ke),G=p(ke,"DIV",{id:!0,style:!0}),x(G).forEach(o),ke.forEach(o),_e.forEach(o),Te=B(V),je=p(V,"BR",{}),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),xt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px"),w(g,"id","hostname"),w($,"id","macaddress"),i($,"color","darkgrey"),w(R,"id","version"),i(R,"color","darkgrey"),i(s,"font-size","22px"),i(s,"font-weight","700"),i(s,"color","white"),i(s,"margin-bottom","20px"),w(me,"for","username"),w(ee,"id","username"),w(ee,"autocorrect","off"),w(ee,"autocapitalize","none"),w(ee,"type","text"),w(ee,"name","username"),w(ee,"size","18"),i(ee,"font-size","24px"),i(ee,"margin-top","5px"),ee.required=!0,i(ae,"font-size","20px"),i(ae,"font-weight","900"),i(ye,"height","25px"),i(Be,"font-size","11px"),i(Be,"margin-left","2px"),w($e,"for","missionid"),w(ie,"id","missionid"),w(ie,"autocorrect","off"),w(ie,"autocapitalize","none"),w(ie,"autocomplete","off"),w(ie,"type","text"),w(ie,"name","missionid"),w(ie,"size","18"),i(ie,"font-size","24px"),i(ie,"margin-top","5px"),ie.required=!0,i(K,"font-size","20px"),i(K,"font-weight","900"),i(ge,"font-size","20px"),i(ge,"font-weight","900"),i(ue,"height","25px"),w(U,"id","savemissionid"),i(U,"color","white"),i(U,"font-weight","normal"),i(U,"text-decoration","none"),i(U,"word-break","break-word"),i(U,"font-size","20px"),i(U,"line-height","26px"),i(U,"border-top","14px solid"),i(U,"border-bottom","14px solid"),i(U,"border-right","32px solid"),i(U,"border-left","32px solid"),i(U,"background-color","#2ab27b"),i(U,"border-color","#2ab27b"),i(U,"display","inline-block"),i(U,"letter-spacing","1px"),i(U,"min-width","80px"),i(U,"text-align","center"),i(U,"border-radius","4px"),i(U,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),i(pe,"display","inline-block"),i(pe,"border-radius","4px"),i(pe,"background","#1f8b5f"),i(pe,"border-bottom","2px solid #1f8b5f"),i(P,"text-align","center"),w(T,"width","400"),i(T,"display","grid"),i(T,"place-items","center"),i(T,"background-color","#1B3C45"),w(G,"id","savemissionidstatus"),i(G,"position","relative"),i(G,"top","-50px"),i(G,"left","315px"),i(G,"color","white"),i(G,"font-size","20px"),i(G,"line-height","22px"),i(G,"text-align","left"),i(G,"margin-left","50px"),i(G,"margin-bottom","5px"),w(C,"width","70%"),w(C,"id","missionid_form"),w(C,"enctype","multipart/form-data"),w(C,"method","post"),i(C,"font-size","20px"),i(C,"line-height","26px"),i(C,"margin","0 0 16px")},m(V,F){k(V,e,F),n(e,t),n(e,c),n(e,l),n(l,m),k(V,_,F),k(V,u,F),k(V,b,F),k(V,h,F),k(V,y,F),k(V,f,F),n(f,s),n(s,g),n(g,L),n(s,v),n(s,$),n($,E),n(s,A),n(s,R),n(R,D),n(f,z),n(f,I),n(f,O),n(f,C),n(C,T),n(T,q),n(q,Q),n(Q,Y),n(Q,Le),n(Q,re),n(Q,Ne),n(Q,ae),n(ae,me),n(me,Re),n(ae,he),n(ae,fe),n(ae,ee),n(Q,Xe),n(T,de),n(de,ye),n(T,Pe),n(Pe,ge),n(ge,K),n(K,$e),n($e,te),n($e,Be),n(K,Ke),n(K,ie),n(ge,Ce),n(T,Ee),n(Ee,ue),n(T,ce),n(ce,P),n(P,pe),n(pe,U),n(U,Qe),n(P,Ye),n(P,et),n(P,tt),n(P,rt),n(P,qe),n(P,Ve),n(P,He),n(P,Ae),n(C,Se),n(C,G),k(V,Te,F),k(V,je,F)},p:X,i:X,o:X,d(V){V&&o(e),V&&o(_),V&&o(u),V&&o(b),V&&o(h),V&&o(y),V&&o(f),V&&o(Te),V&&o(je)}}}function Sr(a){return Ze(()=>{const e=new Request("/missionid");document.getElementById("missionid_form").addEventListener("submit",c),r();async function r(){let l=await fetch(e);console.log(l);let m=await l.json();console.log(m);let _=document.querySelector("#hostname"),u=document.querySelector("#macaddress"),b=document.querySelector("#username"),h=document.querySelector("#missionid"),y=document.querySelector("#version");_.innerText=m.hostname||"",u.innerText=m.macaddress||"",y.innerText="v"+(m.version||""),b.value=m.username||"",h.value=m.missionid||""}async function c(l){l.preventDefault();let m=document.querySelector("#savemissionid"),_=document.querySelector("#savemissionidstatus");m.focus();try{let u=new FormData(l.target),b=u.get("username"),h=u.get("missionid");console.log(u),console.log(b),console.log(h);let y={username:b,missionid:h};_.innerHTML=" &nbsp; &nbsp;\u2022 \u2022 \u2022";let f=await fetch(e,{method:"POST",body:JSON.stringify(y),headers:{"Content-Type":"application/json"}});f.ok?_.innerText="Saved!":_.innerText=`Error: ${f.statusText}`}catch(u){_.innerText=`Error: ${u}`}}}),[]}class Tr extends ve{constructor(e){super();xe(this,e,Sr,Er,we,{})}}function kr(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,L,v,$,E,A,R,D,z,I,O,C,T,q,Q,Y,Le,re,Ne,ae,me,Re,he,fe,ee,Xe,de,ye,Pe,ge,K,$e,te,Be,Ke,ie,Ce,Ee,ue,ce,P,pe,U,Qe,Ye,et,tt,rt,qe,Ve,He,Ae,Se,G,Te,je,V,F,Ue,_e,Ie,it,Oe,ot,ke;return{c(){e=d("h2"),t=H(`\u{1F4F6}
    `),r=d("span"),c=H("WiFi Setup"),l=N(),m=d("br"),_=N(),u=d("br"),b=N(),h=d("center"),y=d("div"),f=d("span"),s=H("\u2022 \u2022 \u2022"),g=d("br"),L=H("\xA0"),v=N(),$=d("center"),E=d("form"),A=d("table"),R=d("tr"),D=d("td"),z=d("br"),I=N(),O=d("br"),C=N(),T=d("div"),q=d("label"),Q=H("Network Name"),Y=d("br"),Le=N(),re=d("input"),Ne=N(),ae=d("tr"),me=d("td"),Re=d("tr"),he=d("td"),fe=d("div"),ee=d("label"),Xe=H("WiFi Password"),de=d("div"),ye=d("i"),Pe=H("leave blank if no password"),ge=N(),K=d("input"),$e=N(),te=d("button"),Be=H("\u{1F441}\uFE0F"),Ke=N(),ie=d("tr"),Ce=d("td"),Ee=d("tr"),ue=d("td"),ce=d("span"),P=d("button"),pe=H("Connect WiFi"),U=N(),Qe=d("br"),Ye=N(),et=d("br"),tt=N(),rt=d("br"),qe=N(),Ve=d("br"),He=N(),Ae=d("center"),Se=d("div"),G=d("div"),Te=wt("font"),je=H("Visible networks"),V=N(),F=d("ul"),Ue=d("li"),_e=d("i"),Ie=H("looking for networks..."),it=N(),Oe=d("div"),ot=N(),ke=d("div"),this.h()},l(M){e=p(M,"H2",{style:!0});var W=x(e);t=j(W,`\u{1F4F6}
    `),r=p(W,"SPAN",{style:!0});var Me=x(r);c=j(Me,"WiFi Setup"),Me.forEach(o),W.forEach(o),l=B(M),m=p(M,"BR",{}),_=B(M),u=p(M,"BR",{}),b=B(M),h=p(M,"CENTER",{});var Fe=x(h);y=p(Fe,"DIV",{style:!0});var dt=x(y);f=p(dt,"SPAN",{id:!0});var nt=x(f);s=j(nt,"\u2022 \u2022 \u2022"),g=p(nt,"BR",{}),L=j(nt,"\xA0"),nt.forEach(o),dt.forEach(o),Fe.forEach(o),v=B(M),$=p(M,"CENTER",{});var gt=x($);E=p(gt,"FORM",{width:!0,id:!0,enctype:!0,method:!0,style:!0});var pt=x(E);A=p(pt,"TABLE",{width:!0,style:!0});var De=x(A);R=p(De,"TR",{});var lt=x(R);D=p(lt,"TD",{});var ze=x(D);z=p(ze,"BR",{}),I=B(ze),O=p(ze,"BR",{}),C=B(ze),T=p(ze,"DIV",{style:!0});var Ge=x(T);q=p(Ge,"LABEL",{for:!0});var _t=x(q);Q=j(_t,"Network Name"),_t.forEach(o),Y=p(Ge,"BR",{}),Le=B(Ge),re=p(Ge,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,type:!0,name:!0,size:!0,style:!0}),Ge.forEach(o),Ne=B(ze),ze.forEach(o),lt.forEach(o),ae=p(De,"TR",{});var mt=x(ae);me=p(mt,"TD",{style:!0});var be=x(me);be.forEach(o),mt.forEach(o),Re=p(De,"TR",{});var ht=x(Re);he=p(ht,"TD",{style:!0});var at=x(he);fe=p(at,"DIV",{style:!0});var ut=x(fe);ee=p(ut,"LABEL",{for:!0});var vt=x(ee);Xe=j(vt,"WiFi Password"),de=p(vt,"DIV",{style:!0});var St=x(de);ye=p(St,"I",{});var Tt=x(ye);Pe=j(Tt,"leave blank if no password"),Tt.forEach(o),St.forEach(o),vt.forEach(o),ge=B(ut),K=p(ut,"INPUT",{id:!0,autocorrect:!0,autocapitalize:!0,autocomplete:!0,type:!0,name:!0,size:!0,style:!0}),$e=B(ut),te=p(ut,"BUTTON",{id:!0,type:!0,onclick:!0,style:!0});var kt=x(te);Be=j(kt,"\u{1F441}\uFE0F"),kt.forEach(o),ut.forEach(o),Ke=B(at),at.forEach(o),ht.forEach(o),ie=p(De,"TR",{});var zt=x(ie);Ce=p(zt,"TD",{style:!0});var er=x(Ce);er.forEach(o),zt.forEach(o),Ee=p(De,"TR",{});var Lt=x(Ee);ue=p(Lt,"TD",{style:!0});var We=x(ue);ce=p(We,"SPAN",{style:!0});var Nt=x(ce);P=p(Nt,"BUTTON",{style:!0});var Bt=x(P);pe=j(Bt,"Connect WiFi"),Bt.forEach(o),Nt.forEach(o),U=B(We),Qe=p(We,"BR",{}),Ye=B(We),et=p(We,"BR",{}),tt=B(We),rt=p(We,"BR",{}),We.forEach(o),Lt.forEach(o),De.forEach(o),pt.forEach(o),gt.forEach(o),qe=B(M),Ve=p(M,"BR",{}),He=B(M),Ae=p(M,"CENTER",{});var At=x(Ae);Se=p(At,"DIV",{style:!0});var It=x(Se);G=p(It,"DIV",{style:!0});var bt=x(G);Te=yt(bt,"font",{color:!0});var Mt=x(Te);je=j(Mt,"Visible networks"),Mt.forEach(o),V=B(bt),F=p(bt,"UL",{width:!0,id:!0,style:!0});var Dt=x(F);Ue=p(Dt,"LI",{});var Rt=x(Ue);_e=p(Rt,"I",{});var Pt=x(_e);Ie=j(Pt,"looking for networks..."),Pt.forEach(o),Rt.forEach(o),Dt.forEach(o),bt.forEach(o),It.forEach(o),At.forEach(o),it=B(M),Oe=p(M,"DIV",{id:!0}),x(Oe).forEach(o),ot=B(M),ke=p(M,"DIV",{id:!0}),x(ke).forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px"),w(f,"id","connection"),i(y,"font-size","22px"),i(y,"font-weight","700"),i(y,"color","white"),i(y,"margin-bottom","20px"),w(q,"for","ssid"),w(re,"id","ssid"),w(re,"autocorrect","off"),w(re,"autocapitalize","none"),w(re,"type","text"),w(re,"name","ssid"),w(re,"size","18"),i(re,"font-size","24px"),i(re,"margin-top","5px"),re.required=!0,i(T,"font-size","20px"),i(T,"font-weight","900"),i(me,"height","25px"),i(de,"font-size","11px"),i(de,"margin-top","-8px"),i(de,"margin-left","2px"),w(ee,"for","password"),w(K,"id","password"),w(K,"autocorrect","off"),w(K,"autocapitalize","none"),w(K,"autocomplete","off"),w(K,"type","text"),w(K,"name","password"),w(K,"size","18"),i(K,"font-size","24px"),w(te,"id","visibility"),w(te,"type","button"),w(te,"onclick","window.client.toggle_password_visibility(event)"),i(te,"width","30px"),i(te,"height","30px"),i(te,"position","absolute"),i(te,"margin-left","6px"),i(te,"margin-top","1px"),i(te,"border-radius","2px"),i(te,"border-width","1px"),i(te,"background-color","#BBEBFF"),i(fe,"font-size","20px"),i(fe,"font-weight","900"),i(he,"font-size","20px"),i(he,"font-weight","900"),i(Ce,"height","25px"),i(P,"color","white"),i(P,"font-weight","normal"),i(P,"text-decoration","none"),i(P,"word-break","break-word"),i(P,"font-size","20px"),i(P,"line-height","26px"),i(P,"border-top","14px solid"),i(P,"border-bottom","14px solid"),i(P,"border-right","32px solid"),i(P,"border-left","32px solid"),i(P,"background-color","#2ab27b"),i(P,"border-color","#2ab27b"),i(P,"display","inline-block"),i(P,"letter-spacing","1px"),i(P,"min-width","80px"),i(P,"text-align","center"),i(P,"border-radius","4px"),i(P,"text-shadow","0 1px 1px rgba(0,0,0,0.25)"),i(ce,"display","inline-block"),i(ce,"border-radius","4px"),i(ce,"background","#1f8b5f"),i(ce,"border-bottom","2px solid #1f8b5f"),i(ue,"text-align","center"),w(A,"width","400"),i(A,"display","grid"),i(A,"place-items","center"),i(A,"background-color","#1B3C45"),w(E,"width","70%"),w(E,"id","connect_wifi_form"),w(E,"enctype","multipart/form-data"),w(E,"method","post"),i(E,"font-size","20px"),i(E,"line-height","26px"),i(E,"margin","0 0 16px"),w(Te,"color","gray"),w(F,"width","300"),w(F,"id","networks"),i(F,"list-style","none"),i(F,"font-size","20px"),i(F,"font-weight","900"),i(F,"margin-left","2px"),i(F,"margin-top","4px"),i(F,"white-space","nowrap"),i(G,"width","220px"),i(G,"text-align","left"),i(Se,"display","grid"),i(Se,"place-items","center"),w(Oe,"id","statusdiv"),w(ke,"id","signaldiv")},m(M,W){k(M,e,W),n(e,t),n(e,r),n(r,c),k(M,l,W),k(M,m,W),k(M,_,W),k(M,u,W),k(M,b,W),k(M,h,W),n(h,y),n(y,f),n(f,s),n(f,g),n(f,L),k(M,v,W),k(M,$,W),n($,E),n(E,A),n(A,R),n(R,D),n(D,z),n(D,I),n(D,O),n(D,C),n(D,T),n(T,q),n(q,Q),n(T,Y),n(T,Le),n(T,re),n(D,Ne),n(A,ae),n(ae,me),n(A,Re),n(Re,he),n(he,fe),n(fe,ee),n(ee,Xe),n(ee,de),n(de,ye),n(ye,Pe),n(fe,ge),n(fe,K),n(fe,$e),n(fe,te),n(te,Be),n(he,Ke),n(A,ie),n(ie,Ce),n(A,Ee),n(Ee,ue),n(ue,ce),n(ce,P),n(P,pe),n(ue,U),n(ue,Qe),n(ue,Ye),n(ue,et),n(ue,tt),n(ue,rt),k(M,qe,W),k(M,Ve,W),k(M,He,W),k(M,Ae,W),n(Ae,Se),n(Se,G),n(G,Te),n(Te,je),n(G,V),n(G,F),n(F,Ue),n(Ue,_e),n(_e,Ie),k(M,it,W),k(M,Oe,W),k(M,ot,W),k(M,ke,W)},p:X,i:X,o:X,d(M){M&&o(e),M&&o(l),M&&o(m),M&&o(_),M&&o(u),M&&o(b),M&&o(h),M&&o(v),M&&o($),M&&o(qe),M&&o(Ve),M&&o(He),M&&o(Ae),M&&o(it),M&&o(Oe),M&&o(ot),M&&o(ke)}}}function Jt(a,e){setTimeout(()=>window.requestAnimationFrame(a),e)}async function zr(a){console.log(a),console.log(a.target),a.preventDefault();let e=new FormData(a.target);console.log(e),console.log(e.get("ssid")),console.log(e.get("password"));let t={ssid:e.get("ssid"),password:e.get("password")};await fetch("/connect",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function Lr(a){let e,t;const r=1*1e3,c=5*1e3;let l,m;Ze(()=>{e=new Request("/status"),t=new Request("/scan"),new Request("/signal"),document.getElementById("connect_wifi_form").addEventListener("submit",zr),u(),h()});function _(){m||(m=document.querySelector("#wifi_section"));let f=m.getBoundingClientRect(),s=f.left;return f.right>0&&s<window.innerWidth}async function u(){try{if(_()){let s=await(await fetch(e)).json();s&&!s.retry&&Object.keys(s).length!==0&&b(s)}}catch(f){console.error(f)}Jt(u,r)}function b(f){let s=document.querySelector("#connection"),g=f.wpa_state,L="\u2022 \u2022 \u2022<br>&nbsp;";if(console.log(f),g){let v=f.ssid.replace(/\n$/,"");g==="COMPLETED"?(L='<div style="position:relative" data-ssid="'+(v||"")+'"><font color="gray">connected to </font>'+(v||"unknown")+"&nbsp;&nbsp;",l&&(L+='<span style="position:absolute;color:#AAAAAA">'+l+"</span>"),L+="</div>"):console.log("state =",g),f.ip_address?L+='<br><span style="position:absolute;color:#AAAAAA">'+f.ip_address+"</span>":L+="<br>&nbsp;"}s.innerHTML=L}async function h(){try{if(_()){let s=await(await fetch(t)).json();console.log(s),s&&!s.retry&&Object.keys(s).length!==0&&y(s)}}catch(f){console.error(f)}Jt(h,c)}function y(f){let s=document.querySelector("#networks"),g="",L=[];try{for(let v=0;v<f.length;v++){let $=f[v],E=$.ssid;!E||E.includes("\0")||E.includes("\\x00")||E.startsWith("mkn0")||L.includes(E)||(L.push(E),g+='<li onclick="window.client.click_network(event)"><div style="position:relative"><div style="position:absolute;color:#AAAAAA;left:-38px">'+$.signal+'</div><div style="position:absolute;color:#AAAAAA;left:-62px;font-size:14px;opacity:0.6">'+($.security?"\u{1F512}":"")+'</div><span class="clickssid">'+E+`</span></li>
`,l=$.signal)}}catch(v){console.error(v)}s.innerHTML=g}return[]}class Nr extends ve{constructor(e){super();xe(this,e,Lr,kr,we,{})}}function Br(a){let e,t,r,c,l,m,_,u,b,h,y;return{c(){e=d("h2"),t=H(`\u{1F4F9}
    `),r=d("span"),c=H("Video Setup"),l=N(),m=d("br"),_=N(),u=d("br"),b=N(),h=d("h2"),y=H("All settings are currently automatic"),this.h()},l(f){e=p(f,"H2",{style:!0});var s=x(e);t=j(s,`\u{1F4F9}
    `),r=p(s,"SPAN",{style:!0});var g=x(r);c=j(g,"Video Setup"),g.forEach(o),s.forEach(o),l=B(f),m=p(f,"BR",{}),_=B(f),u=p(f,"BR",{}),b=B(f),h=p(f,"H2",{});var L=x(h);y=j(L,"All settings are currently automatic"),L.forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px")},m(f,s){k(f,e,s),n(e,t),n(e,r),n(r,c),k(f,l,s),k(f,m,s),k(f,_,s),k(f,u,s),k(f,b,s),k(f,h,s),n(h,y)},p:X,i:X,o:X,d(f){f&&o(e),f&&o(l),f&&o(m),f&&o(_),f&&o(u),f&&o(b),f&&o(h)}}}class Ar extends ve{constructor(e){super();xe(this,e,null,Br,we,{})}}function Ir(a){let e,t,r,c,l,m,_,u,b,h,y;return{c(){e=d("h2"),t=H(`\u{1F4F7}
    `),r=d("span"),c=H("Photo Setup"),l=N(),m=d("br"),_=N(),u=d("br"),b=N(),h=d("h2"),y=H("All settings are currently automatic"),this.h()},l(f){e=p(f,"H2",{style:!0});var s=x(e);t=j(s,`\u{1F4F7}
    `),r=p(s,"SPAN",{style:!0});var g=x(r);c=j(g,"Photo Setup"),g.forEach(o),s.forEach(o),l=B(f),m=p(f,"BR",{}),_=B(f),u=p(f,"BR",{}),b=B(f),h=p(f,"H2",{});var L=x(h);y=j(L,"All settings are currently automatic"),L.forEach(o),this.h()},h(){i(r,"font-size","58px"),i(e,"font-size","64px")},m(f,s){k(f,e,s),n(e,t),n(e,r),n(r,c),k(f,l,s),k(f,m,s),k(f,_,s),k(f,u,s),k(f,b,s),k(f,h,s),n(h,y)},p:X,i:X,o:X,d(f){f&&o(e),f&&o(l),f&&o(m),f&&o(_),f&&o(u),f&&o(b),f&&o(h)}}}class Mr extends ve{constructor(e){super();xe(this,e,null,Ir,we,{})}}function Dr(a){let e;return{c(){e=d("div"),this.h()},l(t){e=p(t,"DIV",{id:!0,style:!0}),x(e).forEach(o),this.h()},h(){w(e,"id",a[1]),i(e,"width","530px"),i(e,"height",a[0])},m(t,r){k(t,e,r)},p(t,[r]){r&1&&i(e,"height",t[0])},i:X,o:X,d(t){t&&o(e)}}}const Et=350,Rr=70;function Pr(a,e,t){let{programid:r}=e,{height:c}=e,{formatNodeTextLabel:l}=e;const m=qt();let _,u,b=r+"-diagram";function h(){if(u){u.clearSelection();let v=document.querySelector(`#${b} > canvas`);v&&v.blur()}}Ze(async()=>{_=await(await fetch(`/mission/diagram/${r}`)).json(),s()});function y(){u.nodes.each(function(v){v instanceof S.exports.Group&&v.category!=="Pool"&&(v.layout.isValidLayout=!1)}),u.layoutDiagram()}function f(){u.layout.invalidateLayout(),u.findTopLevelGroups().each(function(v){v.category==="Pool"&&v.layout.invalidateLayout()}),u.layoutDiagram()}function s(){var v=S.exports.GraphObject.make;u=v(S.exports.Diagram,b,{resizingTool:new g,layout:v(L,{spacing:new S.exports.Size(0,40)}),mouseDragOver(z){z.diagram.selection.all(function(I){return I instanceof S.exports.Group})||(z.diagram.currentCursor="not-allowed")},mouseDrop(z){z.diagram.selection.all(function(I){return I instanceof S.exports.Group})||z.diagram.currentTool.doCancel()},autoScale:S.exports.Diagram.Uniform,allowHorizontalScroll:!1,"commandHandler.copiesGroupKey":!0,SelectionMoved:f,SelectionCopied:f,"animationManager.isEnabled":!1,"undoManager.isEnabled":!0});function $(){return[{layerName:"Background",background:"transparent",movable:!0,copyable:!1,avoidable:!1,minLocation:new S.exports.Point(NaN,-1/0),maxLocation:new S.exports.Point(NaN,1/0)},new S.exports.Binding("location","loc",S.exports.Point.parse).makeTwoWay(S.exports.Point.stringify)]}function E(z){z.findExternalLinksConnected().each(function(I){I.visible=I.fromNode.isVisible()&&I.toNode.isVisible()})}u.groupTemplate=v(S.exports.Group,"Horizontal",$(),{selectionObjectName:"SHAPE",resizable:!0,resizeObjectName:"SHAPE",layout:v(S.exports.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,direction:0,columnSpacing:10,layeringOption:S.exports.LayeredDigraphLayout.LayerLongestPathSource}),computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,computesBoundsIncludingLocation:!0,handlesDragDropForMembers:!0,mouseDrop(z,I){if(!!z.shift)if(z.diagram.selection.any(function(C){return C instanceof S.exports.Group}))z.diagram.currentTool.doCancel();else{var O=I.addMembers(I.diagram.selection,!0);O?E(I):I.diagram.currentTool.doCancel()}},subGraphExpandedChanged(z){var I=z.resizeObject;z.diagram.undoManager.isUndoingRedoing||(z.isSubGraphExpanded?I.height=z._savedBreadth:(z._savedBreadth=I.height,I.height=NaN),E(z))}},new S.exports.Binding("isSubGraphExpanded","expanded").makeTwoWay(),v(S.exports.Panel,"Horizontal",{name:"HEADER",angle:270,alignment:S.exports.Spot.Center},v(S.exports.Panel,"Horizontal",new S.exports.Binding("visible","isSubGraphExpanded").ofObject())),v(S.exports.Panel,"Auto",v(S.exports.Shape,"Rectangle",{name:"SHAPE",fill:"white"},new S.exports.Binding("fill","color"),new S.exports.Binding("desiredSize","size",S.exports.Size.parse).makeTwoWay(S.exports.Size.stringify)),v(S.exports.Placeholder,{padding:2,alignment:S.exports.Spot.TopLeft}),v(S.exports.TextBlock,{name:"LABEL",font:"bold 13pt Helvetica,sans-serif",editable:!0,angle:0,alignment:S.exports.Spot.TopLeft,margin:new S.exports.Margin(2,0,0,4)},new S.exports.Binding("visible","isSubGraphExpanded",function(z){return!z}).ofObject(),new S.exports.Binding("text","text").makeTwoWay()))),u.groupTemplate.resizeAdornmentTemplate=v(S.exports.Adornment,"Spot",v(S.exports.Placeholder),v(S.exports.Shape,{alignment:S.exports.Spot.Right,desiredSize:new S.exports.Size(7,50),fill:"lightblue",stroke:"dodgerblue",cursor:"col-resize"},new S.exports.Binding("visible","",function(z){return z.adornedPart===null?!1:z.adornedPart.isSubGraphExpanded}).ofObject()),v(S.exports.Shape,{alignment:S.exports.Spot.Bottom,desiredSize:new S.exports.Size(50,7),fill:"lightblue",stroke:"dodgerblue",cursor:"row-resize"},new S.exports.Binding("visible","",function(z){return z.adornedPart===null?!1:z.adornedPart.isSubGraphExpanded}).ofObject())),u.groupTemplateMap.add("Pool",v(S.exports.Group,"Auto",$(),{layout:v(L,{spacing:new S.exports.Size(0,0)})},v(S.exports.Shape,{fill:"white"},new S.exports.Binding("fill","color")),v(S.exports.Panel,"Table",{defaultColumnSeparatorStroke:"#D2E0E3"},v(S.exports.Panel,"Horizontal",{column:0,angle:270}),v(S.exports.Placeholder,{column:1})))),u.linkTemplate=v(S.exports.Link,{routing:S.exports.Link.AvoidsNodes,corner:5},{relinkableFrom:!0,relinkableTo:!0},v(S.exports.Shape,{stroke:"#D3E0E3",strokeWidth:2}),v(S.exports.Shape,{toArrow:"Standard",stroke:"#D3E0E3",fill:"#D3E0E3"})),u.nodeTemplate=v(S.exports.Node,"Auto",new S.exports.Binding("location","loc",S.exports.Point.parse).makeTwoWay(S.exports.Point.stringify),v(S.exports.Shape,{figure:"Rectangle",height:90,width:220,strokeWidth:0,fill:"#D2E0E3",portId:"",cursor:"pointer",fromLinkable:!0,toLinkable:!0},new S.exports.Binding("fill","color")),v(S.exports.TextBlock,{margin:new S.exports.Margin(8,12,8,12),font:"24px Helvetica,sans-serif"},new S.exports.Binding("text","",l)),{dragComputation:z=>{z.diagram.currentTool.doCancel()},selectionChanged:z=>{console.log("partp",z),z.data.param&&m("selectionchanged",z)}}),u.isReadOnly=!0,u.toolManager.panningTool.isEnabled=!1,u.toolManager.dragSelectingTool.isEnabled=!1,u.allowHorizontalScroll=!1,u.allowVerticalScroll=!1,u.allowZoom=!1,u.model=new S.exports.GraphLinksModel(_[0],_[1]);let A=u.model.toJson(),R=JSON.parse(A);A=JSON.stringify(R,0,4),y();let D=u.toolManager.clickSelectingTool;D.standardMouseSelect=()=>{let I=D.diagram.lastInput;console.log("over",I),S.exports.ClickSelectingTool.prototype.standardMouseSelect.call(D)}}class g extends S.exports.ResizingTool{static computeMinPoolSize($){var E=Et;return $.memberParts.each(function(A){if(A instanceof S.exports.Group){var R=A.placeholder;if(R!==null){var D=R.actualBounds;E=Math.max(E,D.width)}}}),new S.exports.Size(E,NaN)}static computeLaneSize($){var E=g.computeMinLaneSize($);if($.isSubGraphExpanded){var A=$.placeholder;if(A!==null){var R=A.actualBounds;E.height=Math.ceil(Math.max(E.height,R.height))}}var D=$.findObject("HEADER");return D!==null&&(E.height=Math.ceil(Math.max(E.height,D.actualBounds.height))),E}static computeMinLaneSize($){return $.isSubGraphExpanded?new S.exports.Size(Et,Rr):new S.exports.Size(Et,1)}isLengthening(){return this.handle.alignment===S.exports.Spot.Right}computeMinSize(){var $=this.adornedObject.part,E=g.computeMinLaneSize($);if(this.isLengthening()){var A=g.computeMinPoolSize($.containingGroup);E.width=Math.max(E.width,A.width)}else{var A=g.computeLaneSize($);E.width=Math.max(E.width,A.width),E.height=Math.max(E.height,A.height)}return E}resize($){var E=this.adornedObject.part;this.isLengthening()?E.containingGroup.memberParts.each(function(A){if(A instanceof S.exports.Group){var R=A.resizeObject;R!==null&&(R.width=$.width)}}):super.resize($),this.relayoutDiagram()}}class L extends S.exports.GridLayout{constructor(){super();this.cellSize=new S.exports.Size(1,1),this.wrappingColumn=1,this.wrappingWidth=1/0,this.isRealtime=!1,this.alignment=S.exports.GridLayout.Position,this.boundsComputation=function($,E,A){return $.getDocumentBounds(A),A.inflate(-1,-1),A}}doLayout($){if(this.diagram!==null){this.diagram.startTransaction("PoolLayout");var E=this.group;if(E!==null&&E.category==="Pool"){var A=g.computeMinPoolSize(E);E.memberParts.each(function(R){if(R instanceof S.exports.Group&&R.category!=="Pool"){var D=R.resizeObject;if(D!==null){var z=g.computeLaneSize(R);D.width=isNaN(D.width)?A.width:Math.max(D.width,A.width),D.height=isNaN(D.height)?z.height:Math.max(D.height,z.height);var I=R.resizeCellSize;!isNaN(D.width)&&!isNaN(I.width)&&I.width>0&&(D.width=Math.ceil(D.width/I.width)*I.width),!isNaN(D.height)&&!isNaN(I.height)&&I.height>0&&(D.height=Math.ceil(D.height/I.height)*I.height)}}})}super.doLayout($),u.commitTransaction("PoolLayout")}}}return a.$$set=v=>{"programid"in v&&t(2,r=v.programid),"height"in v&&t(0,c=v.height),"formatNodeTextLabel"in v&&t(3,l=v.formatNodeTextLabel)},[c,b,r,l,h]}class Cr extends ve{constructor(e){super();xe(this,e,Pr,Dr,we,{programid:2,height:0,formatNodeTextLabel:3,clearSelection:4})}get clearSelection(){return this.$$.ctx[4]}}function Or(a){let e,t,r,c,l;return{c(){e=d("div"),t=wt("svg"),r=wt("path"),this.h()},l(m){e=p(m,"DIV",{class:!0});var _=x(e);t=yt(_,"svg",{fill:!0,viewBox:!0,height:!0,width:!0,xmlns:!0});var u=x(t);r=yt(u,"path",{xmlns:!0,d:!0,fill:!0}),x(r).forEach(o),u.forEach(o),_.forEach(o),this.h()},h(){w(r,"xmlns","http://www.w3.org/2000/svg"),w(r,"d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM7.79289 7.79289C8.18342 7.40237 8.81658 7.40237 9.20711 7.79289L12 10.5858L14.7929 7.79289C15.1834 7.40237 15.8166 7.40237 16.2071 7.79289C16.5976 8.18342 16.5976 8.81658 16.2071 9.20711L13.4142 12L16.2071 14.7929C16.5976 15.1834 16.5976 15.8166 16.2071 16.2071C15.8166 16.5976 15.1834 16.5976 14.7929 16.2071L12 13.4142L9.20711 16.2071C8.81658 16.5976 8.18342 16.5976 7.79289 16.2071C7.40237 15.8166 7.40237 15.1834 7.79289 14.7929L10.5858 12L7.79289 9.20711C7.40237 8.81658 7.40237 8.18342 7.79289 7.79289Z"),w(r,"fill","#7BA5AF"),w(t,"fill","none"),w(t,"viewBox","0 0 24 24"),w(t,"height","48"),w(t,"width","48"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(e,"class","close svelte-1vddyue")},m(m,_){k(m,e,_),n(e,t),n(t,r),c||(l=ft(e,"click",a[0]),c=!0)},p:X,i:X,o:X,d(m){m&&o(e),c=!1,l()}}}function qr(a){const e=qt();let t;Ze(()=>{t=setInterval(l,100)}),$t(()=>{t&&(clearInterval(t),t=!1)});let r,c;function l(){r||(r=document.querySelector("#sectionholder"),c=r.scrollLeft),r.scrollLeft!=c&&(c=r.scrollLeft,e("click"))}function m(_){ar.call(this,a,_)}return[m]}class Vr extends ve{constructor(e){super();xe(this,e,qr,Or,we,{})}}function Zt(a,e,t){const r=a.slice();return r[21]=e[t],r}function Xt(a){let e,t,r,c,l,m,_,u;function b(g,L){return g[2].options?Hr:jr}let h=b(a),y=h(a);function f(g){a[18](g)}let s={step:a[2].step,min:a[6],max:a[7],pips:!0,first:"label",last:"label",rest:!1};return a[3]!==void 0&&(s.values=a[3]),c=new dr({props:s}),jt.push(()=>pr(c,"values",f)),c.$on("change",a[10]),{c(){e=d("input"),t=N(),y.c(),r=N(),oe(c.$$.fragment),this.h()},l(g){e=p(g,"INPUT",{type:!0,size:!0,class:!0}),t=B(g),y.l(g),r=B(g),ne(c.$$.fragment,g),this.h()},h(){w(e,"type","text"),w(e,"size","6"),w(e,"class","svelte-okhyeb")},m(g,L){k(g,e,L),Vt(e,a[2].value),k(g,t,L),y.m(g,L),k(g,r,L),le(c,g,L),m=!0,_||(u=[ft(e,"input",a[16]),ft(e,"change",a[9])],_=!0)},p(g,L){L&4&&e.value!==g[2].value&&Vt(e,g[2].value),h===(h=b(g))&&y?y.p(g,L):(y.d(1),y=h(g),y&&(y.c(),y.m(r.parentNode,r)));const v={};L&4&&(v.step=g[2].step),L&64&&(v.min=g[6]),L&128&&(v.max=g[7]),!l&&L&8&&(l=!0,v.values=g[3],ur(()=>l=!1)),c.$set(v)},i(g){m||(J(c.$$.fragment,g),m=!0)},o(g){Z(c.$$.fragment,g),m=!1},d(g){g&&o(e),g&&o(t),y.d(g),g&&o(r),se(c,g),_=!1,Ht(u)}}}function Hr(a){let e,t,r,c=a[2].options_order,l=[];for(let m=0;m<c.length;m+=1)l[m]=Kt(Zt(a,c,m));return{c(){e=d("select");for(let m=0;m<l.length;m+=1)l[m].c();this.h()},l(m){e=p(m,"SELECT",{class:!0,id:!0});var _=x(e);for(let u=0;u<l.length;u+=1)l[u].l(_);_.forEach(o),this.h()},h(){w(e,"class","units_select svelte-okhyeb"),w(e,"id","edit_units"),a[2].edit_units===void 0&&mr(()=>a[17].call(e))},m(m,_){k(m,e,_);for(let u=0;u<l.length;u+=1)l[u].m(e,null);Ft(e,a[2].edit_units),t||(r=[ft(e,"change",a[17]),ft(e,"change",a[8])],t=!0)},p(m,_){if(_&4){c=m[2].options_order;let u;for(u=0;u<c.length;u+=1){const b=Zt(m,c,u);l[u]?l[u].p(b,_):(l[u]=Kt(b),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}_&4&&Ft(e,m[2].edit_units)},d(m){m&&o(e),hr(l,m),t=!1,Ht(r)}}}function jr(a){let e,t;return{c(){e=d("span"),t=H(a[4]),this.h()},l(r){e=p(r,"SPAN",{class:!0});var c=x(e);t=j(c,a[4]),c.forEach(o),this.h()},h(){w(e,"class","units svelte-okhyeb")},m(r,c){k(r,e,c),n(e,t)},p(r,c){c&16&&Ut(t,r[4])},d(r){r&&o(e)}}}function Kt(a){let e,t=a[2].options[a[21]].label+"",r,c;return{c(){e=d("option"),r=H(t),this.h()},l(l){e=p(l,"OPTION",{class:!0});var m=x(e);r=j(m,t),m.forEach(o),this.h()},h(){w(e,"class","units svelte-okhyeb"),e.__value=c=a[21],e.value=e.__value},m(l,m){k(l,e,m),n(e,r)},p(l,m){m&4&&t!==(t=l[2].options[l[21]].label+"")&&Ut(r,t),m&4&&c!==(c=l[21])&&(e.__value=c,e.value=e.__value)},d(l){l&&o(e)}}}function Ur(a){let e,t,r,c,l,m,_,u,b,h,y={programid:a[0],height:a[1],formatNodeTextLabel:Fr};t=new Cr({props:y}),a[15](t),t.$on("selectionchanged",a[11]);let f=a[2]&&Xt(a);return b=new Vr({}),b.$on("click",a[12]),{c(){e=d("div"),oe(t.$$.fragment),r=N(),c=d("div"),l=d("br"),m=N(),_=d("div"),f&&f.c(),u=N(),oe(b.$$.fragment),this.h()},l(s){e=p(s,"DIV",{style:!0});var g=x(e);ne(t.$$.fragment,g),r=B(g),c=p(g,"DIV",{style:!0});var L=x(c);l=p(L,"BR",{}),m=B(L),_=p(L,"DIV",{class:!0});var v=x(_);f&&f.l(v),u=B(v),ne(b.$$.fragment,v),v.forEach(o),L.forEach(o),g.forEach(o),this.h()},h(){w(_,"class","sliderContainer svelte-okhyeb"),i(c,"position","fixed"),i(c,"left","0px"),i(c,"bottom",a[2]?"0px":"-200px"),i(c,"height","200px"),i(c,"z-index","900"),i(c,"width","100%"),i(c,"background-color","rgba(0,0,0,0.75)"),i(c,"transition","all 0.2s"),i(e,"position","relative")},m(s,g){k(s,e,g),le(t,e,null),n(e,r),n(e,c),n(c,l),n(c,m),n(c,_),f&&f.m(_,null),n(_,u),le(b,_,null),h=!0},p(s,[g]){const L={};g&1&&(L.programid=s[0]),g&2&&(L.height=s[1]),t.$set(L),s[2]?f?(f.p(s,g),g&4&&J(f,1)):(f=Xt(s),f.c(),J(f,1),f.m(_,u)):f&&(fr(),Z(f,1,1,()=>{f=null}),cr()),(!h||g&4)&&i(c,"bottom",s[2]?"0px":"-200px")},i(s){h||(J(t.$$.fragment,s),J(f),J(b.$$.fragment,s),h=!0)},o(s){Z(t.$$.fragment,s),Z(f),Z(b.$$.fragment,s),h=!1},d(s){s&&o(e),a[15](null),se(t),f&&f.d(),se(b)}}}function Fr(a){let e=a.text||"#";try{if(a.editing&&a.editing.options&&!a.editing.options_order){let r=a.editing.options;a.editing.options_order=Object.keys(r),a.editing.options_order.sort((c,l)=>r[c].rank>r[l].rank?1:-1)}let t={};if(a.edit_units&&a.editing.options&&(t=a.editing.options[a.edit_units]),a&&a.template){let r=a.value,c=t&&t.scale||a.scale||1,l=1;r=(r/c).toFixed(l).replace(/\.0+$/,""),e=a.template,e=e.replace(/{units}/g,a.edit_units||""),e=e.replace(/{abbr}/g,t&&t.abbr||a.abbr||a.edit_units||""),e=e.replace(/{x}/g,r),e=e.replace(/{s}/g,r===1?"":"s")}}catch(t){console.error("error in formatNodeTextLabel",t)}return e}function Gr(a,e,t){let{programid:r}=e,{height:c="790px"}=e,l,m=[0],_="",u,b,h,y,f;Ze(()=>{t(13,b=Gt())}),$t(()=>{});function s(z){let I=h.data,O=l.options[l.edit_units],C=O.step<1?1:0;t(2,l=Je(Je({},l),O)),t(6,y=Number(O.range.low.toFixed(C))),t(7,f=Number(O.range.high.toFixed(C))),I.edit_units=l.edit_units;let T=h.data.param+"_EDIT_UNITS";b.emit("updateparam",{programid:r,name:T,value:I.edit_units})}function g(z){t(3,m[0]=l.value,m)}function L(z){t(2,l.value=z.detail.value,l)}function v(z){let I=z.detail,O=I.data;if(I.elt(0),!I||!I.isSelected||!O||!O.param){t(14,h=void 0),t(2,l=!1);return}t(14,h=I);let C={step:1,scale:1},T={};if(O.editing&&O.editing.options){let Q=O.editing.options,Y=O.edit_units;(!Y||!(Y in Q))&&(Y=l.options_order[0]),T=Q[Y],T.edit_units=Y}O.editing?t(2,l=Je(Je(Je({},C),O.editing),T)):t(2,l=Je(Je({},C),T));let q=T.step<1?1:0;t(2,l.value=(O.value/l.scale).toFixed(q).replace(/\.0+$/,""),l),t(6,y=Number(T.range.low.toFixed(q))),t(7,f=Number(T.range.high.toFixed(q))),t(4,_=O.label||""),t(4,_=_.replace(/{s}/g,l.value===1?"":"s"))}function $(){t(2,l=!1),u.clearSelection()}function E(z){jt[z?"unshift":"push"](()=>{u=z,t(5,u)})}function A(){l.value=this.value,t(2,l)}function R(){l.edit_units=gr(this),t(2,l)}function D(z){m=z,t(3,m),t(14,h),t(2,l),t(13,b),t(0,r)}return a.$$set=z=>{"programid"in z&&t(0,r=z.programid),"height"in z&&t(1,c=z.height)},a.$$.update=()=>{if(a.$$.dirty&24581&&h&&l){let z=h.data,I=h.diagram,O=Math.round(l.value*l.scale);if(t(3,m[0]=l.value,m),b.emit("updateparam",{programid:r,name:h.data.param,value:O}),z&&z.param&&I){let C=z.label||"#";C=C.replace(/{s}/g,l.value===1?"":"s"),t(4,_=C),I.model.set(z,"value",O)}}},[r,c,l,m,_,u,y,f,s,g,L,v,$,b,h,E,A,R,D]}class Qt extends ve{constructor(e){super();xe(this,e,Gr,Ur,we,{programid:0,height:1})}}function Wr(a){let e,t,r,c,l,m,_,u,b,h,y,f;return y=new Qt({props:{programid:"mission1"}}),{c(){e=d("h2"),t=d("img"),c=N(),l=d("span"),m=H("Test Mission I"),_=N(),u=d("br"),b=N(),h=d("center"),oe(y.$$.fragment),this.h()},l(s){e=p(s,"H2",{style:!0});var g=x(e);t=p(g,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=B(g),l=p(g,"SPAN",{style:!0});var L=x(l);m=j(L,"Test Mission I"),L.forEach(o),g.forEach(o),_=B(s),u=p(s,"BR",{}),b=B(s),h=p(s,"CENTER",{});var v=x(h);ne(y.$$.fragment,v),v.forEach(o),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),xt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px")},m(s,g){k(s,e,g),n(e,t),n(e,c),n(e,l),n(l,m),k(s,_,g),k(s,u,g),k(s,b,g),k(s,h,g),le(y,h,null),f=!0},p:X,i(s){f||(J(y.$$.fragment,s),f=!0)},o(s){Z(y.$$.fragment,s),f=!1},d(s){s&&o(e),s&&o(_),s&&o(u),s&&o(b),s&&o(h),se(y)}}}class Jr extends ve{constructor(e){super();xe(this,e,null,Wr,we,{})}}function Zr(a){let e,t,r,c,l,m,_,u,b,h,y,f;return y=new Qt({props:{programid:"mission2",height:"700px"}}),{c(){e=d("h2"),t=d("img"),c=N(),l=d("span"),m=H("Test Mission II"),_=N(),u=d("br"),b=N(),h=d("center"),oe(y.$$.fragment),this.h()},l(s){e=p(s,"H2",{style:!0});var g=x(e);t=p(g,"IMG",{height:!0,width:!0,src:!0,style:!0,alt:!0}),c=B(g),l=p(g,"SPAN",{style:!0});var L=x(l);m=j(L,"Test Mission II"),L.forEach(o),g.forEach(o),_=B(s),u=p(s,"BR",{}),b=B(s),h=p(s,"CENTER",{});var v=x(h);ne(y.$$.fragment,v),v.forEach(o),this.h()},h(){w(t,"height","80px"),w(t,"width","80px"),xt(t.src,r="/favicon.png")||w(t,"src",r),i(t,"position","relative"),i(t,"top","18px"),i(t,"right","10px"),w(t,"alt","ODL Logo"),i(l,"font-size","58px"),i(e,"font-size","64px")},m(s,g){k(s,e,g),n(e,t),n(e,c),n(e,l),n(l,m),k(s,_,g),k(s,u,g),k(s,b,g),k(s,h,g),le(y,h,null),f=!0},p:X,i(s){f||(J(y.$$.fragment,s),f=!0)},o(s){Z(y.$$.fragment,s),f=!1},d(s){s&&o(e),s&&o(_),s&&o(u),s&&o(b),s&&o(h),se(y)}}}class Xr extends ve{constructor(e){super();xe(this,e,null,Zr,we,{})}}const{document:Yt}=br;function Kr(a){let e,t;return e=new $r({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Qr(a){let e,t;return e=new Tr({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Yr(a){let e,t;return e=new Nr({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function ei(a){let e,t;return e=new Ar({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function ti(a){let e,t;return e=new Mr({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function ri(a){let e,t;return e=new Jr({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function ii(a){let e,t;return e=new Xr({}),{c(){oe(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,c){le(e,r,c),t=!0},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function oi(a){let e,t,r,c,l,m,_,u,b,h,y,f,s,g,L,v;return r=new st({props:{id:"media_manager",$$slots:{default:[Kr]},$$scope:{ctx:a}}}),l=new st({props:{id:"username_section",$$slots:{default:[Qr]},$$scope:{ctx:a}}}),_=new st({props:{id:"wifi_section",$$slots:{default:[Yr]},$$scope:{ctx:a}}}),b=new st({props:{id:"video_setup_section",$$slots:{default:[ei]},$$scope:{ctx:a}}}),y=new st({props:{id:"photo_setup_section",$$slots:{default:[ti]},$$scope:{ctx:a}}}),s=new st({props:{id:"mission-1-setup",$$slots:{default:[ri]},$$scope:{ctx:a}}}),L=new st({props:{id:"mission-2-setup",$$slots:{default:[ii]},$$scope:{ctx:a}}}),{c(){e=N(),t=d("div"),oe(r.$$.fragment),c=N(),oe(l.$$.fragment),m=N(),oe(_.$$.fragment),u=N(),oe(b.$$.fragment),h=N(),oe(y.$$.fragment),f=N(),oe(s.$$.fragment),g=N(),oe(L.$$.fragment),this.h()},l($){_r('[data-svelte="svelte-1x4iabj"]',Yt.head).forEach(o),e=B($),t=p($,"DIV",{id:!0});var A=x(t);ne(r.$$.fragment,A),c=B(A),ne(l.$$.fragment,A),m=B(A),ne(_.$$.fragment,A),u=B(A),ne(b.$$.fragment,A),h=B(A),ne(y.$$.fragment,A),f=B(A),ne(s.$$.fragment,A),g=B(A),ne(L.$$.fragment,A),A.forEach(o),this.h()},h(){Yt.title="Maka Niu",w(t,"id","sectionholder")},m($,E){k($,e,E),k($,t,E),le(r,t,null),n(t,c),le(l,t,null),n(t,m),le(_,t,null),n(t,u),le(b,t,null),n(t,h),le(y,t,null),n(t,f),le(s,t,null),n(t,g),le(L,t,null),v=!0},p($,[E]){const A={};E&16&&(A.$$scope={dirty:E,ctx:$}),r.$set(A);const R={};E&16&&(R.$$scope={dirty:E,ctx:$}),l.$set(R);const D={};E&16&&(D.$$scope={dirty:E,ctx:$}),_.$set(D);const z={};E&16&&(z.$$scope={dirty:E,ctx:$}),b.$set(z);const I={};E&16&&(I.$$scope={dirty:E,ctx:$}),y.$set(I);const O={};E&16&&(O.$$scope={dirty:E,ctx:$}),s.$set(O);const C={};E&16&&(C.$$scope={dirty:E,ctx:$}),L.$set(C)},i($){v||(J(r.$$.fragment,$),J(l.$$.fragment,$),J(_.$$.fragment,$),J(b.$$.fragment,$),J(y.$$.fragment,$),J(s.$$.fragment,$),J(L.$$.fragment,$),v=!0)},o($){Z(r.$$.fragment,$),Z(l.$$.fragment,$),Z(_.$$.fragment,$),Z(b.$$.fragment,$),Z(y.$$.fragment,$),Z(s.$$.fragment,$),Z(L.$$.fragment,$),v=!1},d($){$&&o(e),$&&o(t),se(r),se(l),se(_),se(b),se(y),se(s),se(L)}}}function ni(a){let e;Ze(()=>{e=setInterval(c,100)}),$t(()=>{e&&(clearInterval(e),e=!1)});let t,r;function c(){t||(t=document.querySelector("#sectionholder"),r=t.scrollLeft),t.scrollLeft!=r&&(r=t.scrollLeft)}return[]}class ai extends ve{constructor(e){super();xe(this,e,ni,oi,we,{})}}export{ai as default};
